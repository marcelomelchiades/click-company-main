{"ast":null,"code":"import _toConsumableArray from\"/home/clickc/www/click-company-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/home/clickc/www/click-company-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/clickc/www/click-company-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/clickc/www/click-company-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState,useRef}from'react';import{Link}from'react-router-dom';import{useRecoilValue}from'recoil';import axios from'axios';import{toast}from'react-toastify';import InputMask from'react-input-mask';import{endpointState}from'../../recoil/atoms';import Input from'../../components/Input/Input';import InputFiles from'../../components/InputFiles/InputFiles';import Loading from'../../components/Loading/Loading';var UpdatePerfilCloseFriends=function UpdatePerfilCloseFriends(_ref){var history=_ref.history;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showLoading=_useState2[0],setShowLoading=_useState2[1];var _useRecoilValue=useRecoilValue(endpointState),urlEndpoint=_useRecoilValue.urlEndpoint,urlEndpointEstados=_useRecoilValue.urlEndpointEstados;var urlAcompanhante=\"\".concat(urlEndpoint,\"/api/account\");var urlEndpointCreatePerfil=\"\".concat(urlEndpoint,\"/api/account/update\");var urlEndpointDeleteMedia=\"\".concat(urlEndpoint,\"/api/account/delete\");var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filesFotos=_useState4[0],setFilesFotos=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),filesVideos=_useState6[0],setFilesVideos=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),name=_useState8[0],setName=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),whatsApp=_useState10[0],setWhatsApp=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),birth=_useState12[0],setBirth=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),gender=_useState14[0],setGender=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),info=_useState16[0],setInfo=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),state=_useState18[0],setState=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),city=_useState20[0],setCity=_useState20[1];var _useState21=useState(''),_useState22=_slicedToArray(_useState21,2),neighborhood=_useState22[0],setNeighborhood=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),estadoSelect=_useState24[0],setEstadoSelect=_useState24[1];var _useState25=useState([]),_useState26=_slicedToArray(_useState25,2),cidadeSelect=_useState26[0],setCidadeSelect=_useState26[1];var _useState27=useState(''),_useState28=_slicedToArray(_useState27,2),bairroText=_useState28[0],setBairroText=_useState28[1];var _useState29=useState(''),_useState30=_slicedToArray(_useState29,2),urlInstagram=_useState30[0],setUrlInstagram=_useState30[1];var _useState31=useState(''),_useState32=_slicedToArray(_useState31,2),urlLinktree=_useState32[0],setUrlLinktree=_useState32[1];var _useState33=useState(''),_useState34=_slicedToArray(_useState33,2),urlOnlyfans=_useState34[0],setUrlOnlyfans=_useState34[1];var nameInput=useRef(document.createElement('div'));var whatsappInput=useRef(document.createElement('div'));var genderInput=useRef(document.createElement('div'));var infoInput=useRef(document.createElement('div'));var stateInput=useRef(document.createElement('div'));var cityInput=useRef(document.createElement('div'));var neighborhoodInput=useRef(document.createElement('div'));var filePhotoInput=useRef(document.createElement('div'));var birthInput=useRef(document.createElement('div'));var token=localStorage.getItem('token');function buildFormData(formData,data,parentKey){if(data&&typeof data==='object'&&!(data instanceof Date)&&!(data instanceof File)){Object.keys(data).forEach(function(key){buildFormData(formData,data[key],parentKey?\"\".concat(parentKey,\"[\").concat(key,\"]\"):key);});}else{var value=data==null?'':data;formData.append(parentKey,value);}}function jsonToFormData(data){var formData=new FormData();buildFormData(formData,data);return formData;}var getInfoUser=function getInfoUser(statesArray){var myStatesArray=statesArray;axios.get(urlAcompanhante,{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(response){if(response.status===200){var _response$data$addres,_response$data$addres2,_response$data$profil,_response$data$profil2,_response$data$profil3,_response$data$profil4,_response$data$profil5,_response$data$profil6,_response$data$profil7,_response$data$profil8,_response$data$profil9,_response$data$addres3;var stateResponse=(_response$data$addres=response.data.address)===null||_response$data$addres===void 0?void 0:_response$data$addres.state;var cityResponse=(_response$data$addres2=response.data.address)===null||_response$data$addres2===void 0?void 0:_response$data$addres2.city;setName((_response$data$profil=response.data.profile)===null||_response$data$profil===void 0?void 0:_response$data$profil.nickname);setWhatsApp((_response$data$profil2=response.data.profile)===null||_response$data$profil2===void 0?void 0:_response$data$profil2.whatsapp);setInfo((_response$data$profil3=response.data.profile)===null||_response$data$profil3===void 0?void 0:_response$data$profil3.info);setBirth((_response$data$profil4=response.data.profile)===null||_response$data$profil4===void 0?void 0:_response$data$profil4.birth);setGender((_response$data$profil5=response.data.profile)===null||_response$data$profil5===void 0?void 0:_response$data$profil5.gender);setInfo((_response$data$profil6=response.data.profile)===null||_response$data$profil6===void 0?void 0:_response$data$profil6.info);setUrlInstagram((_response$data$profil7=response.data.profile)===null||_response$data$profil7===void 0?void 0:_response$data$profil7.url_instagram);setUrlLinktree((_response$data$profil8=response.data.profile)===null||_response$data$profil8===void 0?void 0:_response$data$profil8.url_linktree);setUrlOnlyfans((_response$data$profil9=response.data.profile)===null||_response$data$profil9===void 0?void 0:_response$data$profil9.url_onlyfans);setState(stateResponse);var idState='0';myStatesArray.forEach(function(element){if(element.label===stateResponse){idState=element.value;}});setSelectsAxiosIbge('cidades',idState,cityResponse);setNeighborhood((_response$data$addres3=response.data.address)===null||_response$data$addres3===void 0?void 0:_response$data$addres3.neighborhood);var fotos=[];var videos=[];if(response.data.profile.midias.length>0){var midiasProfile=response.data.profile.midias;midiasProfile.forEach(function(midia){if(midia.type==='image'){var lastMidiaLink=midia.link[Object.keys(midia.link)[Object.keys(midia.link).length-1]];fotos.push({label:'',value:'',urlThumbnail:lastMidiaLink});}else if(midia.type==='video'){videos.push({label:'',value:'',urlThumbnail:midia.link});}});}setFilesFotos(fotos);setFilesVideos(videos);}});};var setSelectsAxiosIbge=function setSelectsAxiosIbge(){var tipoEstadoCidade=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'estados';var idEstado=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'33';var labelCidade=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';var callGetInfoUser=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var url={estados:urlEndpointEstados,cidades:\"\".concat(urlEndpointEstados).concat(idEstado,\"/municipios\")};var setSelect={estados:setEstadoSelect,cidades:setCidadeSelect};var orderByName={estados:'sigla',cidades:'nome'};axios.get(url[tipoEstadoCidade],{// headers: {\n// \tAuthorization: `Bearer ${token}`,\n// },\n}).then(function(response){if(response.data.length>0){var newValue=[];var cidadesEstados=response.data.sort(function(a,b){return a[orderByName[tipoEstadoCidade]]>b[orderByName[tipoEstadoCidade]]?1:-1;});response.data.forEach(function(element){if(tipoEstadoCidade==='estados'){if(element.id===33){newValue.push({label:element[orderByName[tipoEstadoCidade]],value:element.id});}}else{newValue.push({label:element[orderByName[tipoEstadoCidade]],value:element.id});}});setSelect[tipoEstadoCidade]([]);setSelect[tipoEstadoCidade](newValue);setCity(labelCidade);if(callGetInfoUser){getInfoUser(newValue);}}else{setSelect[tipoEstadoCidade]([]);}});};var sendForm=function sendForm(){if(name===''){toast.error('Informe como deseja ser chamado.',{position:'bottom-right',autoClose:3000,hideProgressBar:true,closeOnClick:false,pauseOnHover:true,draggable:false,progress:undefined});nameInput.current.scrollIntoView({behavior:'smooth'});}else if(whatsApp===''){toast.error('Número de Whatsapp não informado.',{position:'bottom-right',autoClose:3000,hideProgressBar:true,closeOnClick:false,pauseOnHover:true,draggable:false,progress:undefined});whatsappInput.current.scrollIntoView({behavior:'smooth'});}else if(whatsApp.length!==15){toast.error('Número de Whatsapp inválido.',{position:'bottom-right',autoClose:3000,hideProgressBar:true,closeOnClick:false,pauseOnHover:true,draggable:false,progress:undefined});whatsappInput.current.scrollIntoView({behavior:'smooth'});}else if(birth===''){toast.error('Data de nascimento não informado.',{position:'bottom-right',autoClose:3000,hideProgressBar:true,closeOnClick:false,pauseOnHover:true,draggable:false,progress:undefined});birthInput.current.scrollIntoView({behavior:'smooth'});}else if(validateAge()===false){toast.error('Idade menor que 18 anos ou inválida.',{position:'bottom-right',autoClose:3000,hideProgressBar:true,closeOnClick:false,pauseOnHover:true,draggable:false,progress:undefined});birthInput.current.scrollIntoView({behavior:'smooth'});}else if(gender===''||gender==='Como quer ser identificado(a)?'){toast.error('Informe como deseja ser identificado(a).',{position:'bottom-right',autoClose:3000,hideProgressBar:true,closeOnClick:false,pauseOnHover:true,draggable:false,progress:undefined});genderInput.current.scrollIntoView({behavior:'smooth'});}else if(info===''){toast.error('Favor fale um pouco sobre você..',{position:'bottom-right',autoClose:3000,hideProgressBar:true,closeOnClick:false,pauseOnHover:true,draggable:false,progress:undefined});infoInput.current.scrollIntoView({behavior:'smooth'});}else if(state===''){toast.error('Favor selecione a seu estado.',{position:'bottom-right',autoClose:3000,hideProgressBar:true,closeOnClick:false,pauseOnHover:true,draggable:false,progress:undefined});stateInput.current.scrollIntoView({behavior:'smooth'});}else if(city===''||city==='Cidade'){toast.error('Favor selecione o sua cidade.',{position:'bottom-right',autoClose:3000,hideProgressBar:true,closeOnClick:false,pauseOnHover:true,draggable:false,progress:undefined});cityInput.current.scrollIntoView({behavior:'smooth'});}else if(neighborhood===''){toast.error('Favor informe seu bairro.',{position:'bottom-right',autoClose:3000,hideProgressBar:true,closeOnClick:false,pauseOnHover:true,draggable:false,progress:undefined});neighborhoodInput.current.scrollIntoView({behavior:'smooth'});}else if(!filesFotos.length){toast.error('Favor post ao menos uma foto.',{position:'bottom-right',autoClose:3000,hideProgressBar:true,closeOnClick:false,pauseOnHover:true,draggable:false,progress:undefined});filePhotoInput.current.scrollIntoView({behavior:'smooth'});}else{var images=[];var videos=[];filesFotos.forEach(function(element){if(typeof element.value!==typeof File){images.push(element.value);}});filesVideos.forEach(function(element){if(typeof element.value!==typeof File){videos.push(element.value);}});var formDataJson={profile:{nickname:name,whatsapp:whatsApp,gender:gender,height:'',profile_eyes_id:'',weight:'',clothingSize:'',footSize:'',profile_skin_color_id:'',profile_hair_id:'',profile_breasts_id:'',info:info,price:'0',can_local:'0',occasion:'',type_service:'',languages:'',payment_type:'',url_instagram:urlInstagram,url_linketree:urlLinktree,url_onlyfans:urlOnlyfans,birth:birth},address:{zipcode:'0',number:'0',address:'0',reference:'0',state:state,city:city,neighborhood:neighborhood},images:images,videos:videos};var formData=jsonToFormData(formDataJson);setShowLoading(true);axios.request({method:'POST',url:urlEndpointCreatePerfil,headers:{Authorization:\"Bearer \".concat(token),'Content-Type':'multipart/form-data;'},data:formData}).then(function(response){setShowLoading(false);if(response.status===204){toast.success('Perfil atualizado com sucesso!',{position:'bottom-right',autoClose:3000,hideProgressBar:true,closeOnClick:false,pauseOnHover:true,draggable:false,progress:undefined});}else{toast.error('Erro ao tentar enviar seus dados, por favor tente novamente mais tarde.',{position:'bottom-right',autoClose:3000,hideProgressBar:true,closeOnClick:false,pauseOnHover:true,draggable:false,progress:undefined});}}).catch(function(error){var _error$response,_error$response$data;setShowLoading(false);var msgError='Erro ao tentar enviar seus dados, por favor tente novamente mais tarde.';if(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)==='O vídeo deve ter no máximo 20 segundos'){var _error$response2,_error$response2$data;msgError=(_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message;}toast.error(msgError,{position:'bottom-right',autoClose:3000,hideProgressBar:true,closeOnClick:false,pauseOnHover:true,draggable:false,progress:undefined});});}};var deleteFile=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){var formData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formData={path:url};setShowLoading(true);axios.request({method:'POST',url:urlEndpointDeleteMedia,headers:{Authorization:\"Bearer \".concat(token)},data:formData}).then(function(response){setShowLoading(false);if(response.status===204){toast.success('Perfil atualizado com sucesso!',{position:'bottom-right',autoClose:3000,hideProgressBar:true,closeOnClick:false,pauseOnHover:true,draggable:false,progress:undefined});}else{toast.error('Erro ao tentar enviar seus dados, por favor tente novamente mais tarde.',{position:'bottom-right',autoClose:3000,hideProgressBar:true,closeOnClick:false,pauseOnHover:true,draggable:false,progress:undefined});}}).catch(function(error){var _error$response3,_error$response3$data;setShowLoading(false);var msgError='Erro ao tentar enviar seus dados, por favor tente novamente mais tarde.';if(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)==='O vídeo deve ter no máximo 20 segundos'){var _error$response4,_error$response4$data;msgError=(_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message;}toast.error(msgError,{position:'bottom-right',autoClose:3000,hideProgressBar:true,closeOnClick:false,pauseOnHover:true,draggable:false,progress:undefined});});case 3:case\"end\":return _context.stop();}}},_callee);}));return function deleteFile(_x){return _ref2.apply(this,arguments);};}();function validateAge(){var d=new Date();var yearNow=d.getFullYear();var monthNow=d.getMonth()+1;var dayNow=d.getDate();var dateBorn=birth.split('-');var age=yearNow-Number(dateBorn[0]);if(monthNow<Number(dateBorn[1])||monthNow===Number(dateBorn[1])&&dayNow<Number(dateBorn[3])){age-=1;}if(age>=18&&age>0&&age<=113)return true;return false;}useEffect(function(){setSelectsAxiosIbge('estados','0','',true);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cabecalho-register text-center\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Atualize perfil\",/*#__PURE__*/_jsx(Link,{to:'/perfil',className:\"float-right\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-20px py-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bloco-como-quer-ser-chamado\",ref:nameInput,children:/*#__PURE__*/_jsx(Input,{name:\"como-quer-ser-chamado\",type:\"text\",placeholder:\"Como quer ser chamado(a)\",value:name,onChange:function onChange(e){setName(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",ref:whatsappInput,children:/*#__PURE__*/_jsx(InputMask,{className:'form-input',name:'n_whatsapp',type:'tel',placeholder:'Número WhatsApp',value:whatsApp,mask:\"(99) 99999-9999\",maskChar:\"\",onChange:function onChange(e){setWhatsApp(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",ref:birthInput,children:/*#__PURE__*/_jsx(Input,{name:\"birth\",type:\"date\",placeholder:\"Data de Nascimento\",label:\"Data de Nascimento\",value:birth,onChange:function onChange(e){setBirth(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",ref:genderInput,children:/*#__PURE__*/_jsx(Input,{name:\"como_indetifico\",type:\"select\",placeholder:\"Como quer ser identificado(a)?\",valueSelect:[{label:'Mulher',value:'mulher'},{label:'Homem',value:'homem'},{label:'Trans',value:'trans'}],value:gender,onChange:function onChange(e){setGender(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"bloco-fale-sobre-voce\",ref:infoInput,children:/*#__PURE__*/_jsx(Input,{name:\"fale-sobre-voce\",type:\"text\",placeholder:\"Fale um pouco sobre voc\\xEA\",value:info,onChange:function onChange(e){setInfo(e.target.value);}})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"separador-create-perfil-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-20px py-5\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-color-413872 mb-4\",children:\"Links\"}),/*#__PURE__*/_jsx(Input,{name:\"instagram\",type:\"text\",placeholder:\"Instagram\",value:urlInstagram,onChange:function onChange(e){setUrlInstagram(e.target.value);}}),/*#__PURE__*/_jsx(Input,{name:\"linktree\",type:\"text\",placeholder:\"Linktree\",value:urlLinktree,onChange:function onChange(e){setUrlLinktree(e.target.value);}}),/*#__PURE__*/_jsx(Input,{name:\"onlyfans\",type:\"text\",placeholder:\"Onlyfans\",value:urlLinktree,onChange:function onChange(e){setUrlOnlyfans(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"separador-create-perfil-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-20px py-5\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-color-413872\",children:\"Localiza\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 gap-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bloco-estado\",ref:stateInput,children:/*#__PURE__*/_jsx(Input,{name:\"estado\",type:\"select\",placeholder:\"Estado\",valueSelect:estadoSelect,onChange:function onChange(e){setSelectsAxiosIbge('cidades',e.currentTarget.value);setState(e.target.options[e.target.selectedIndex].text);},value:state})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"separador-create-perfil-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-20px py-5\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-color-413872 mb-2\",children:\"Fotos\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",ref:filePhotoInput,children:/*#__PURE__*/_jsx(InputFiles,{name:\"files-fotos\",label:\"Adicione at\\xE9 10 fotos de uma vez\",accept:\"image/*\",valueFiles:filesFotos,onChange:function onChange(e){if(e.target.files.length>0&&e.target.files.length<=10){var newFilesValue=[];Array.from(e.target.files).forEach(function(file){newFilesValue.push({value:file,label:'',urlThumbnail:URL.createObjectURL(file)});});setFilesFotos([].concat(_toConsumableArray(filesFotos),newFilesValue));}else if(e.target.files.length>10){alert('Você pode enviar apenas 10 imagens');}else{setFilesFotos([]);}},onClickAddFile:function onClickAddFile(e){var inputFiles=document.getElementById('files-fotos');if(inputFiles!==null){inputFiles.click();}},hasRemove:true,onClickRemoveFile:/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var fl;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:fl=e.urlThumbnail.split('midias/')[1];fl=fl.split('/')[0].toString();fl=\"midias/\".concat(fl);deleteFile(fl).then(function(){setFilesFotos(filesFotos.filter(function(file){return file.urlThumbnail!==e.urlThumbnail;}));});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref3.apply(this,arguments);};}()})}),/*#__PURE__*/_jsx(\"hr\",{className:\"mb-6\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-color-413872 mb-2\",children:\"V\\xEDdeos\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(InputFiles,{name:\"files-videos\",accept:\"video/*\",label:\"Adicione at\\xE9 3 v\\xEDdeos de uma vez. O v\\xEDdeo deve ter no m\\xE1ximo 20 segundos.\",valueFiles:filesVideos,onChange:function onChange(e){if(e.target.files.length>0&&e.target.files.length<=3){var newFilesValue=[];Array.from(e.target.files).forEach(function(file){newFilesValue.push({value:file,label:'',urlThumbnail:URL.createObjectURL(file)});});setFilesVideos([].concat(_toConsumableArray(filesVideos),newFilesValue));}else if(e.target.files.length>3){alert('Você pode enviar apenas 3 vídeos');}else{setFilesVideos([]);}},onClickAddFile:function onClickAddFile(e){var inputFiles=document.getElementById('files-videos');if(inputFiles!==null){inputFiles.click();}},hasRemove:true,onClickRemoveFile:function onClickRemoveFile(e){var fl=e.urlThumbnail.split('midias/')[1];fl=\"midias/\".concat(fl);deleteFile(fl).then(function(){setFilesVideos(filesVideos.filter(function(file){return file.urlThumbnail!==e.urlThumbnail;}));});}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pb-20\"}),/*#__PURE__*/_jsx(\"div\",{className:\"footer-register\",children:/*#__PURE__*/_jsx(\"button\",{// to={'/packets'}\ntype:\"button\",onClick:sendForm,className:\"block w-full p-2 rounded-full text-center bg-white\",children:\"Continuar\"})}),/*#__PURE__*/_jsx(Loading,{showLoading:showLoading})]});};export default UpdatePerfilCloseFriends;","map":{"version":3,"sources":["/home/clickc/www/click-company-main/src/pages/Register/UpdatePerfilCloseFriends.tsx"],"names":["React","useEffect","useState","useRef","Link","useRecoilValue","axios","toast","InputMask","endpointState","Input","InputFiles","Loading","UpdatePerfilCloseFriends","history","showLoading","setShowLoading","urlEndpoint","urlEndpointEstados","urlAcompanhante","urlEndpointCreatePerfil","urlEndpointDeleteMedia","filesFotos","setFilesFotos","filesVideos","setFilesVideos","name","setName","whatsApp","setWhatsApp","birth","setBirth","gender","setGender","info","setInfo","state","setState","city","setCity","neighborhood","setNeighborhood","estadoSelect","setEstadoSelect","cidadeSelect","setCidadeSelect","bairroText","setBairroText","urlInstagram","setUrlInstagram","urlLinktree","setUrlLinktree","urlOnlyfans","setUrlOnlyfans","nameInput","document","createElement","whatsappInput","genderInput","infoInput","stateInput","cityInput","neighborhoodInput","filePhotoInput","birthInput","token","localStorage","getItem","buildFormData","formData","data","parentKey","Date","File","Object","keys","forEach","key","value","append","jsonToFormData","FormData","getInfoUser","statesArray","myStatesArray","get","headers","Authorization","then","response","status","stateResponse","address","cityResponse","profile","nickname","whatsapp","url_instagram","url_linktree","url_onlyfans","idState","element","label","setSelectsAxiosIbge","fotos","videos","midias","length","midiasProfile","midia","type","lastMidiaLink","link","push","urlThumbnail","tipoEstadoCidade","idEstado","labelCidade","callGetInfoUser","url","estados","cidades","setSelect","orderByName","newValue","cidadesEstados","sort","a","b","id","sendForm","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","current","scrollIntoView","behavior","validateAge","images","formDataJson","height","profile_eyes_id","weight","clothingSize","footSize","profile_skin_color_id","profile_hair_id","profile_breasts_id","price","can_local","occasion","type_service","languages","payment_type","url_linketree","zipcode","number","reference","request","method","success","catch","msgError","message","deleteFile","path","d","yearNow","getFullYear","monthNow","getMonth","dayNow","getDate","dateBorn","split","age","Number","e","target","currentTarget","options","selectedIndex","text","files","newFilesValue","Array","from","file","URL","createObjectURL","alert","inputFiles","getElementById","click","fl","toString","filter"],"mappings":"qsBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,MAArC,KAAmD,OAAnD,CACA,OAASC,IAAT,KAA0C,kBAA1C,CAEA,OAASC,cAAT,KAA+B,QAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,kBAAtB,CACA,OAASC,aAAT,KAA8B,oBAA9B,CAEA,MAAOC,CAAAA,KAAP,KAAkB,8BAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,wCAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,kCAApB,CAEA,GAAMC,CAAAA,wBAAuD,CAAG,QAA1DA,CAAAA,wBAA0D,MAE1D,IADLC,CAAAA,OACK,MADLA,OACK,eAgBiCZ,QAAQ,CAAC,KAAD,CAhBzC,wCAgBEa,WAhBF,eAgBeC,cAhBf,mCAkBuCX,cAAc,CAACI,aAAD,CAlBrD,CAkBGQ,WAlBH,iBAkBGA,WAlBH,CAkBgBC,kBAlBhB,iBAkBgBA,kBAlBhB,CAmBL,GAAMC,CAAAA,eAAe,WAAMF,WAAN,gBAArB,CACA,GAAMG,CAAAA,uBAAuB,WAAMH,WAAN,uBAA7B,CACA,GAAMI,CAAAA,sBAAsB,WAAMJ,WAAN,uBAA5B,CArBK,eAuB+Bf,QAAQ,CAAiB,EAAjB,CAvBvC,yCAuBEoB,UAvBF,eAuBcC,aAvBd,8BAwBiCrB,QAAQ,CAAiB,EAAjB,CAxBzC,yCAwBEsB,WAxBF,eAwBeC,cAxBf,8BA0BmBvB,QAAQ,CAAC,EAAD,CA1B3B,yCA0BEwB,IA1BF,eA0BQC,OA1BR,8BA2B2BzB,QAAQ,CAAC,EAAD,CA3BnC,0CA2BE0B,QA3BF,gBA2BYC,WA3BZ,gCA4BqB3B,QAAQ,CAAC,EAAD,CA5B7B,2CA4BE4B,KA5BF,gBA4BSC,QA5BT,gCA6BuB7B,QAAQ,CAAC,EAAD,CA7B/B,2CA6BE8B,MA7BF,gBA6BUC,SA7BV,gCA8BmB/B,QAAQ,CAAC,EAAD,CA9B3B,2CA8BEgC,IA9BF,gBA8BQC,OA9BR,gCA+BqBjC,QAAQ,CAAC,EAAD,CA/B7B,2CA+BEkC,KA/BF,gBA+BSC,QA/BT,gCAgCmBnC,QAAQ,CAAC,EAAD,CAhC3B,2CAgCEoC,IAhCF,gBAgCQC,OAhCR,gCAiCmCrC,QAAQ,CAAC,EAAD,CAjC3C,2CAiCEsC,YAjCF,gBAiCgBC,eAjChB,gCAmCmCvC,QAAQ,CAAe,EAAf,CAnC3C,2CAmCEwC,YAnCF,gBAmCgBC,eAnChB,gCAoCmCzC,QAAQ,CAAe,EAAf,CApC3C,2CAoCE0C,YApCF,gBAoCgBC,eApChB,gCAqC+B3C,QAAQ,CAAC,EAAD,CArCvC,2CAqCE4C,UArCF,gBAqCcC,aArCd,gCAsCmC7C,QAAQ,CAAC,EAAD,CAtC3C,2CAsCE8C,YAtCF,gBAsCgBC,eAtChB,gCAuCiC/C,QAAQ,CAAC,EAAD,CAvCzC,2CAuCEgD,WAvCF,gBAuCeC,cAvCf,gCAwCiCjD,QAAQ,CAAC,EAAD,CAxCzC,2CAwCEkD,WAxCF,gBAwCeC,cAxCf,gBA0CL,GAAMC,CAAAA,SAAS,CAAGnD,MAAM,CAACoD,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAD,CAAxB,CACA,GAAMC,CAAAA,aAAa,CAAGtD,MAAM,CAACoD,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAD,CAA5B,CACA,GAAME,CAAAA,WAAW,CAAGvD,MAAM,CAACoD,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAD,CAA1B,CACA,GAAMG,CAAAA,SAAS,CAAGxD,MAAM,CAACoD,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAD,CAAxB,CACA,GAAMI,CAAAA,UAAU,CAAGzD,MAAM,CAACoD,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAD,CAAzB,CACA,GAAMK,CAAAA,SAAS,CAAG1D,MAAM,CAACoD,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAD,CAAxB,CACA,GAAMM,CAAAA,iBAAiB,CAAG3D,MAAM,CAACoD,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAD,CAAhC,CACA,GAAMO,CAAAA,cAAc,CAAG5D,MAAM,CAACoD,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAD,CAA7B,CACA,GAAMQ,CAAAA,UAAU,CAAG7D,MAAM,CAACoD,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAD,CAAzB,CAEA,GAAMS,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CAEA,QAASC,CAAAA,aAAT,CAAuBC,QAAvB,CAAsCC,IAAtC,CAAiDC,SAAjD,CAAkE,CACjE,GACCD,IAAI,EACJ,MAAOA,CAAAA,IAAP,GAAgB,QADhB,EAEA,EAAEA,IAAI,WAAYE,CAAAA,IAAlB,CAFA,EAGA,EAAEF,IAAI,WAAYG,CAAAA,IAAlB,CAJD,CAKE,CACDC,MAAM,CAACC,IAAP,CAAYL,IAAZ,EAAkBM,OAAlB,CAA0B,SAAAC,GAAG,CAAI,CAChCT,aAAa,CACZC,QADY,CAEZC,IAAI,CAACO,GAAD,CAFQ,CAGZN,SAAS,WAAMA,SAAN,aAAmBM,GAAnB,MAA4BA,GAHzB,CAAb,CAKA,CAND,EAOA,CAbD,IAaO,CACN,GAAMC,CAAAA,KAAK,CAAGR,IAAI,EAAI,IAAR,CAAe,EAAf,CAAoBA,IAAlC,CAEAD,QAAQ,CAACU,MAAT,CAAgBR,SAAhB,CAA2BO,KAA3B,EACA,CACD,CAED,QAASE,CAAAA,cAAT,CAAwBV,IAAxB,CAAmC,CAClC,GAAMD,CAAAA,QAAQ,CAAG,GAAIY,CAAAA,QAAJ,EAAjB,CAEAb,aAAa,CAACC,QAAD,CAAWC,IAAX,CAAb,CAEA,MAAOD,CAAAA,QAAP,CACA,CAED,GAAMa,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,WAAD,CAAwB,CAC3C,GAAMC,CAAAA,aAAa,CAAGD,WAAtB,CAEA7E,KAAK,CACH+E,GADF,CACMlE,eADN,CACuB,CACrBmE,OAAO,CAAE,CACRC,aAAa,kBAAYtB,KAAZ,CADL,CADY,CADvB,EAMEuB,IANF,CAMO,SAAAC,QAAQ,CAAI,CACjB,GAAIA,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA6B,uRAC5B,GAAMC,CAAAA,aAAa,wBAAGF,QAAQ,CAACnB,IAAT,CAAcsB,OAAjB,gDAAG,sBAAuBxD,KAA7C,CACA,GAAMyD,CAAAA,YAAY,yBAAGJ,QAAQ,CAACnB,IAAT,CAAcsB,OAAjB,iDAAG,uBAAuBtD,IAA5C,CAEAX,OAAO,wBAAC8D,QAAQ,CAACnB,IAAT,CAAcwB,OAAf,gDAAC,sBAAuBC,QAAxB,CAAP,CACAlE,WAAW,yBAAC4D,QAAQ,CAACnB,IAAT,CAAcwB,OAAf,iDAAC,uBAAuBE,QAAxB,CAAX,CACA7D,OAAO,yBAACsD,QAAQ,CAACnB,IAAT,CAAcwB,OAAf,iDAAC,uBAAuB5D,IAAxB,CAAP,CACAH,QAAQ,yBAAC0D,QAAQ,CAACnB,IAAT,CAAcwB,OAAf,iDAAC,uBAAuBhE,KAAxB,CAAR,CACAG,SAAS,yBAACwD,QAAQ,CAACnB,IAAT,CAAcwB,OAAf,iDAAC,uBAAuB9D,MAAxB,CAAT,CACAG,OAAO,yBAACsD,QAAQ,CAACnB,IAAT,CAAcwB,OAAf,iDAAC,uBAAuB5D,IAAxB,CAAP,CACAe,eAAe,yBAACwC,QAAQ,CAACnB,IAAT,CAAcwB,OAAf,iDAAC,uBAAuBG,aAAxB,CAAf,CACA9C,cAAc,yBAACsC,QAAQ,CAACnB,IAAT,CAAcwB,OAAf,iDAAC,uBAAuBI,YAAxB,CAAd,CACA7C,cAAc,yBAACoC,QAAQ,CAACnB,IAAT,CAAcwB,OAAf,iDAAC,uBAAuBK,YAAxB,CAAd,CAEA9D,QAAQ,CAACsD,aAAD,CAAR,CACA,GAAIS,CAAAA,OAAO,CAAG,GAAd,CACAhB,aAAa,CAACR,OAAd,CAAsB,SAAAyB,OAAO,CAAI,CAChC,GAAIA,OAAO,CAACC,KAAR,GAAkBX,aAAtB,CAAqC,CACpCS,OAAO,CAAGC,OAAO,CAACvB,KAAlB,CACA,CACD,CAJD,EAKAyB,mBAAmB,CAAC,SAAD,CAAYH,OAAZ,CAAqBP,YAArB,CAAnB,CACApD,eAAe,yBAACgD,QAAQ,CAACnB,IAAT,CAAcsB,OAAf,iDAAC,uBAAuBpD,YAAxB,CAAf,CAEA,GAAMgE,CAAAA,KAAqB,CAAG,EAA9B,CACA,GAAMC,CAAAA,MAAsB,CAAG,EAA/B,CAEA,GAAIhB,QAAQ,CAACnB,IAAT,CAAcwB,OAAd,CAAsBY,MAAtB,CAA6BC,MAA7B,CAAsC,CAA1C,CAA6C,CAC5C,GAAMC,CAAAA,aAAa,CAAGnB,QAAQ,CAACnB,IAAT,CAAcwB,OAAd,CAAsBY,MAA5C,CAEAE,aAAa,CAAChC,OAAd,CAAsB,SAACiC,KAAD,CAAgB,CACrC,GAAIA,KAAK,CAACC,IAAN,GAAe,OAAnB,CAA4B,CAC3B,GAAMC,CAAAA,aAAa,CAClBF,KAAK,CAACG,IAAN,CACCtC,MAAM,CAACC,IAAP,CAAYkC,KAAK,CAACG,IAAlB,EAAwBtC,MAAM,CAACC,IAAP,CAAYkC,KAAK,CAACG,IAAlB,EAAwBL,MAAxB,CAAiC,CAAzD,CADD,CADD,CAIAH,KAAK,CAACS,IAAN,CAAW,CACVX,KAAK,CAAE,EADG,CAEVxB,KAAK,CAAE,EAFG,CAGVoC,YAAY,CAAEH,aAHJ,CAAX,EAKA,CAVD,IAUO,IAAIF,KAAK,CAACC,IAAN,GAAe,OAAnB,CAA4B,CAClCL,MAAM,CAACQ,IAAP,CAAY,CACXX,KAAK,CAAE,EADI,CAEXxB,KAAK,CAAE,EAFI,CAGXoC,YAAY,CAAEL,KAAK,CAACG,IAHT,CAAZ,EAKA,CACD,CAlBD,EAmBA,CACDzF,aAAa,CAACiF,KAAD,CAAb,CACA/E,cAAc,CAACgF,MAAD,CAAd,CACA,CACD,CA5DF,EA6DA,CAhED,CAkEA,GAAMF,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAKvB,IAJJY,CAAAA,gBAII,2DAJsC,SAItC,IAHJC,CAAAA,QAGI,2DAHO,IAGP,IAFJC,CAAAA,WAEI,2DAFU,EAEV,IADJC,CAAAA,eACI,2DADc,KACd,CACJ,GAAMC,CAAAA,GAAG,CAAG,CACXC,OAAO,CAAEtG,kBADE,CAEXuG,OAAO,WAAKvG,kBAAL,SAA0BkG,QAA1B,eAFI,CAAZ,CAKA,GAAMM,CAAAA,SAAS,CAAG,CACjBF,OAAO,CAAE7E,eADQ,CAEjB8E,OAAO,CAAE5E,eAFQ,CAAlB,CAKA,GAAM8E,CAAAA,WAAW,CAAG,CACnBH,OAAO,CAAE,OADU,CAEnBC,OAAO,CAAE,MAFU,CAApB,CAKAnH,KAAK,CACH+E,GADF,CACMkC,GAAG,CAACJ,gBAAD,CADT,CAC6B,CAC3B;AACA;AACA;AAH2B,CAD7B,EAME3B,IANF,CAMO,SAAUC,QAAV,CAAuC,CAC5C,GAAIA,QAAQ,CAACnB,IAAT,CAAcqC,MAAd,CAAuB,CAA3B,CAA8B,CAC7B,GAAMiB,CAAAA,QAAsB,CAAG,EAA/B,CAEA,GAAMC,CAAAA,cAAc,CAAGpC,QAAQ,CAACnB,IAAT,CAAcwD,IAAd,CAAmB,SAACC,CAAD,CAASC,CAAT,QACzCD,CAAAA,CAAC,CAACJ,WAAW,CAACR,gBAAD,CAAZ,CAAD,CAAmCa,CAAC,CAACL,WAAW,CAACR,gBAAD,CAAZ,CAApC,CACG,CADH,CAEG,CAAC,CAHqC,EAAnB,CAAvB,CAMA1B,QAAQ,CAACnB,IAAT,CAAcM,OAAd,CAAsB,SAACyB,OAAD,CAAkB,CACvC,GAAIc,gBAAgB,GAAK,SAAzB,CAAoC,CACnC,GAAId,OAAO,CAAC4B,EAAR,GAAe,EAAnB,CAAuB,CACtBL,QAAQ,CAACX,IAAT,CAAc,CACbX,KAAK,CAAED,OAAO,CAACsB,WAAW,CAACR,gBAAD,CAAZ,CADD,CAEbrC,KAAK,CAAEuB,OAAO,CAAC4B,EAFF,CAAd,EAIA,CACD,CAPD,IAOO,CACNL,QAAQ,CAACX,IAAT,CAAc,CACbX,KAAK,CAAED,OAAO,CAACsB,WAAW,CAACR,gBAAD,CAAZ,CADD,CAEbrC,KAAK,CAAEuB,OAAO,CAAC4B,EAFF,CAAd,EAIA,CACD,CAdD,EAgBAP,SAAS,CAACP,gBAAD,CAAT,CAA4B,EAA5B,EACAO,SAAS,CAACP,gBAAD,CAAT,CAA4BS,QAA5B,EACArF,OAAO,CAAC8E,WAAD,CAAP,CACA,GAAIC,eAAJ,CAAqB,CACpBpC,WAAW,CAAC0C,QAAD,CAAX,CACA,CACD,CA/BD,IA+BO,CACNF,SAAS,CAACP,gBAAD,CAAT,CAA4B,EAA5B,EACA,CACD,CAzCF,EA0CA,CA/DD,CAiEA,GAAMe,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACtB,GAAIxG,IAAI,GAAK,EAAb,CAAiB,CAChBnB,KAAK,CAAC4H,KAAN,CAAY,kCAAZ,CAAgD,CAC/CC,QAAQ,CAAE,cADqC,CAE/CC,SAAS,CAAE,IAFoC,CAG/CC,eAAe,CAAE,IAH8B,CAI/CC,YAAY,CAAE,KAJiC,CAK/CC,YAAY,CAAE,IALiC,CAM/CC,SAAS,CAAE,KANoC,CAO/CC,QAAQ,CAAEC,SAPqC,CAAhD,EASArF,SAAS,CAACsF,OAAV,CAAkBC,cAAlB,CAAiC,CAAEC,QAAQ,CAAE,QAAZ,CAAjC,EACA,CAXD,IAWO,IAAIlH,QAAQ,GAAK,EAAjB,CAAqB,CAC3BrB,KAAK,CAAC4H,KAAN,CAAY,mCAAZ,CAAiD,CAChDC,QAAQ,CAAE,cADsC,CAEhDC,SAAS,CAAE,IAFqC,CAGhDC,eAAe,CAAE,IAH+B,CAIhDC,YAAY,CAAE,KAJkC,CAKhDC,YAAY,CAAE,IALkC,CAMhDC,SAAS,CAAE,KANqC,CAOhDC,QAAQ,CAAEC,SAPsC,CAAjD,EASAlF,aAAa,CAACmF,OAAd,CAAsBC,cAAtB,CAAqC,CAAEC,QAAQ,CAAE,QAAZ,CAArC,EACA,CAXM,IAWA,IAAIlH,QAAQ,CAAC+E,MAAT,GAAoB,EAAxB,CAA4B,CAClCpG,KAAK,CAAC4H,KAAN,CAAY,8BAAZ,CAA4C,CAC3CC,QAAQ,CAAE,cADiC,CAE3CC,SAAS,CAAE,IAFgC,CAG3CC,eAAe,CAAE,IAH0B,CAI3CC,YAAY,CAAE,KAJ6B,CAK3CC,YAAY,CAAE,IAL6B,CAM3CC,SAAS,CAAE,KANgC,CAO3CC,QAAQ,CAAEC,SAPiC,CAA5C,EASAlF,aAAa,CAACmF,OAAd,CAAsBC,cAAtB,CAAqC,CAAEC,QAAQ,CAAE,QAAZ,CAArC,EACA,CAXM,IAWA,IAAIhH,KAAK,GAAK,EAAd,CAAkB,CACxBvB,KAAK,CAAC4H,KAAN,CAAY,mCAAZ,CAAiD,CAChDC,QAAQ,CAAE,cADsC,CAEhDC,SAAS,CAAE,IAFqC,CAGhDC,eAAe,CAAE,IAH+B,CAIhDC,YAAY,CAAE,KAJkC,CAKhDC,YAAY,CAAE,IALkC,CAMhDC,SAAS,CAAE,KANqC,CAOhDC,QAAQ,CAAEC,SAPsC,CAAjD,EASA3E,UAAU,CAAC4E,OAAX,CAAmBC,cAAnB,CAAkC,CAAEC,QAAQ,CAAE,QAAZ,CAAlC,EACA,CAXM,IAWA,IAAIC,WAAW,KAAO,KAAtB,CAA6B,CACnCxI,KAAK,CAAC4H,KAAN,CAAY,sCAAZ,CAAoD,CACnDC,QAAQ,CAAE,cADyC,CAEnDC,SAAS,CAAE,IAFwC,CAGnDC,eAAe,CAAE,IAHkC,CAInDC,YAAY,CAAE,KAJqC,CAKnDC,YAAY,CAAE,IALqC,CAMnDC,SAAS,CAAE,KANwC,CAOnDC,QAAQ,CAAEC,SAPyC,CAApD,EASA3E,UAAU,CAAC4E,OAAX,CAAmBC,cAAnB,CAAkC,CAAEC,QAAQ,CAAE,QAAZ,CAAlC,EACA,CAXM,IAWA,IAAI9G,MAAM,GAAK,EAAX,EAAiBA,MAAM,GAAK,gCAAhC,CAAkE,CACxEzB,KAAK,CAAC4H,KAAN,CAAY,0CAAZ,CAAwD,CACvDC,QAAQ,CAAE,cAD6C,CAEvDC,SAAS,CAAE,IAF4C,CAGvDC,eAAe,CAAE,IAHsC,CAIvDC,YAAY,CAAE,KAJyC,CAKvDC,YAAY,CAAE,IALyC,CAMvDC,SAAS,CAAE,KAN4C,CAOvDC,QAAQ,CAAEC,SAP6C,CAAxD,EASAjF,WAAW,CAACkF,OAAZ,CAAoBC,cAApB,CAAmC,CAAEC,QAAQ,CAAE,QAAZ,CAAnC,EACA,CAXM,IAWA,IAAI5G,IAAI,GAAK,EAAb,CAAiB,CACvB3B,KAAK,CAAC4H,KAAN,CAAY,kCAAZ,CAAgD,CAC/CC,QAAQ,CAAE,cADqC,CAE/CC,SAAS,CAAE,IAFoC,CAG/CC,eAAe,CAAE,IAH8B,CAI/CC,YAAY,CAAE,KAJiC,CAK/CC,YAAY,CAAE,IALiC,CAM/CC,SAAS,CAAE,KANoC,CAO/CC,QAAQ,CAAEC,SAPqC,CAAhD,EASAhF,SAAS,CAACiF,OAAV,CAAkBC,cAAlB,CAAiC,CAAEC,QAAQ,CAAE,QAAZ,CAAjC,EACA,CAXM,IAWA,IAAI1G,KAAK,GAAK,EAAd,CAAkB,CACxB7B,KAAK,CAAC4H,KAAN,CAAY,+BAAZ,CAA6C,CAC5CC,QAAQ,CAAE,cADkC,CAE5CC,SAAS,CAAE,IAFiC,CAG5CC,eAAe,CAAE,IAH2B,CAI5CC,YAAY,CAAE,KAJ8B,CAK5CC,YAAY,CAAE,IAL8B,CAM5CC,SAAS,CAAE,KANiC,CAO5CC,QAAQ,CAAEC,SAPkC,CAA7C,EASA/E,UAAU,CAACgF,OAAX,CAAmBC,cAAnB,CAAkC,CAAEC,QAAQ,CAAE,QAAZ,CAAlC,EACA,CAXM,IAWA,IAAIxG,IAAI,GAAK,EAAT,EAAeA,IAAI,GAAK,QAA5B,CAAsC,CAC5C/B,KAAK,CAAC4H,KAAN,CAAY,+BAAZ,CAA6C,CAC5CC,QAAQ,CAAE,cADkC,CAE5CC,SAAS,CAAE,IAFiC,CAG5CC,eAAe,CAAE,IAH2B,CAI5CC,YAAY,CAAE,KAJ8B,CAK5CC,YAAY,CAAE,IAL8B,CAM5CC,SAAS,CAAE,KANiC,CAO5CC,QAAQ,CAAEC,SAPkC,CAA7C,EASA9E,SAAS,CAAC+E,OAAV,CAAkBC,cAAlB,CAAiC,CAAEC,QAAQ,CAAE,QAAZ,CAAjC,EACA,CAXM,IAWA,IAAItG,YAAY,GAAK,EAArB,CAAyB,CAC/BjC,KAAK,CAAC4H,KAAN,CAAY,2BAAZ,CAAyC,CACxCC,QAAQ,CAAE,cAD8B,CAExCC,SAAS,CAAE,IAF6B,CAGxCC,eAAe,CAAE,IAHuB,CAIxCC,YAAY,CAAE,KAJ0B,CAKxCC,YAAY,CAAE,IAL0B,CAMxCC,SAAS,CAAE,KAN6B,CAOxCC,QAAQ,CAAEC,SAP8B,CAAzC,EASA7E,iBAAiB,CAAC8E,OAAlB,CAA0BC,cAA1B,CAAyC,CAAEC,QAAQ,CAAE,QAAZ,CAAzC,EACA,CAXM,IAWA,IAAI,CAACxH,UAAU,CAACqF,MAAhB,CAAwB,CAC9BpG,KAAK,CAAC4H,KAAN,CAAY,+BAAZ,CAA6C,CAC5CC,QAAQ,CAAE,cADkC,CAE5CC,SAAS,CAAE,IAFiC,CAG5CC,eAAe,CAAE,IAH2B,CAI5CC,YAAY,CAAE,KAJ8B,CAK5CC,YAAY,CAAE,IAL8B,CAM5CC,SAAS,CAAE,KANiC,CAO5CC,QAAQ,CAAEC,SAPkC,CAA7C,EASA5E,cAAc,CAAC6E,OAAf,CAAuBC,cAAvB,CAAsC,CAAEC,QAAQ,CAAE,QAAZ,CAAtC,EACA,CAXM,IAWA,CACN,GAAME,CAAAA,MAAa,CAAG,EAAtB,CACA,GAAMvC,CAAAA,MAAa,CAAG,EAAtB,CAEAnF,UAAU,CAACsD,OAAX,CAAmB,SAAAyB,OAAO,CAAI,CAC7B,GAAI,MAAOA,CAAAA,OAAO,CAACvB,KAAf,GAAyB,MAAOL,CAAAA,IAApC,CAA0C,CACzCuE,MAAM,CAAC/B,IAAP,CAAYZ,OAAO,CAACvB,KAApB,EACA,CACD,CAJD,EAKAtD,WAAW,CAACoD,OAAZ,CAAoB,SAAAyB,OAAO,CAAI,CAC9B,GAAI,MAAOA,CAAAA,OAAO,CAACvB,KAAf,GAAyB,MAAOL,CAAAA,IAApC,CAA0C,CACzCgC,MAAM,CAACQ,IAAP,CAAYZ,OAAO,CAACvB,KAApB,EACA,CACD,CAJD,EAMA,GAAMmE,CAAAA,YAAY,CAAG,CACpBnD,OAAO,CAAE,CACRC,QAAQ,CAAErE,IADF,CAERsE,QAAQ,CAAEpE,QAFF,CAGRI,MAAM,CAANA,MAHQ,CAIRkH,MAAM,CAAE,EAJA,CAKRC,eAAe,CAAE,EALT,CAMRC,MAAM,CAAE,EANA,CAORC,YAAY,CAAE,EAPN,CAQRC,QAAQ,CAAE,EARF,CASRC,qBAAqB,CAAE,EATf,CAURC,eAAe,CAAE,EAVT,CAWRC,kBAAkB,CAAE,EAXZ,CAYRvH,IAAI,CAAJA,IAZQ,CAaRwH,KAAK,CAAE,GAbC,CAcRC,SAAS,CAAE,GAdH,CAeRC,QAAQ,CAAE,EAfF,CAgBRC,YAAY,CAAE,EAhBN,CAiBRC,SAAS,CAAE,EAjBH,CAkBRC,YAAY,CAAE,EAlBN,CAmBR9D,aAAa,CAAEjD,YAnBP,CAoBRgH,aAAa,CAAE9G,WApBP,CAqBRiD,YAAY,CAAE/C,WArBN,CAsBRtB,KAAK,CAALA,KAtBQ,CADW,CAyBpB8D,OAAO,CAAE,CACRqE,OAAO,CAAE,GADD,CAERC,MAAM,CAAE,GAFA,CAGRtE,OAAO,CAAE,GAHD,CAIRuE,SAAS,CAAE,GAJH,CAMR/H,KAAK,CAALA,KANQ,CAORE,IAAI,CAAJA,IAPQ,CAQRE,YAAY,CAAZA,YARQ,CAzBW,CAmCpBwG,MAAM,CAANA,MAnCoB,CAoCpBvC,MAAM,CAANA,MApCoB,CAArB,CAuCA,GAAMpC,CAAAA,QAAQ,CAAGW,cAAc,CAACiE,YAAD,CAA/B,CAEAjI,cAAc,CAAC,IAAD,CAAd,CAEAV,KAAK,CACH8J,OADF,CACU,CACRC,MAAM,CAAE,MADA,CAER9C,GAAG,CAAEnG,uBAFG,CAGRkE,OAAO,CAAE,CACRC,aAAa,kBAAYtB,KAAZ,CADL,CAER,eAAgB,sBAFR,CAHD,CAORK,IAAI,CAAED,QAPE,CADV,EAUEmB,IAVF,CAUO,SAAUC,QAAV,CAAuC,CAC5CzE,cAAc,CAAC,KAAD,CAAd,CAEA,GAAIyE,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA6B,CAC5BnF,KAAK,CAAC+J,OAAN,CAAc,gCAAd,CAAgD,CAC/ClC,QAAQ,CAAE,cADqC,CAE/CC,SAAS,CAAE,IAFoC,CAG/CC,eAAe,CAAE,IAH8B,CAI/CC,YAAY,CAAE,KAJiC,CAK/CC,YAAY,CAAE,IALiC,CAM/CC,SAAS,CAAE,KANoC,CAO/CC,QAAQ,CAAEC,SAPqC,CAAhD,EASA,CAVD,IAUO,CACNpI,KAAK,CAAC4H,KAAN,CACC,yEADD,CAEC,CACCC,QAAQ,CAAE,cADX,CAECC,SAAS,CAAE,IAFZ,CAGCC,eAAe,CAAE,IAHlB,CAICC,YAAY,CAAE,KAJf,CAKCC,YAAY,CAAE,IALf,CAMCC,SAAS,CAAE,KANZ,CAOCC,QAAQ,CAAEC,SAPX,CAFD,EAYA,CACD,CArCF,EAsCE4B,KAtCF,CAsCQ,SAAUpC,KAAV,CAAiB,0CACvBnH,cAAc,CAAC,KAAD,CAAd,CAEA,GAAIwJ,CAAAA,QAAQ,CACX,yEADD,CAGA,GACC,kBAAArC,KAAK,CAAC1C,QAAN,gFAAgBnB,IAAhB,oEAAsBmG,OAAtB,IACA,wCAFD,CAGE,4CACDD,QAAQ,mBAAGrC,KAAK,CAAC1C,QAAT,kEAAG,iBAAgBnB,IAAnB,gDAAG,sBAAsBmG,OAAjC,CACA,CAEDlK,KAAK,CAAC4H,KAAN,CAAYqC,QAAZ,CAAsB,CACrBpC,QAAQ,CAAE,cADW,CAErBC,SAAS,CAAE,IAFU,CAGrBC,eAAe,CAAE,IAHI,CAIrBC,YAAY,CAAE,KAJO,CAKrBC,YAAY,CAAE,IALO,CAMrBC,SAAS,CAAE,KANU,CAOrBC,QAAQ,CAAEC,SAPW,CAAtB,EASA,CA5DF,EA6DA,CACD,CAlPD,CAoPA,GAAM+B,CAAAA,UAAU,2FAAG,iBAAOnD,GAAP,+HACZlD,QADY,CACD,CAChBsG,IAAI,CAAEpD,GADU,CADC,CAKlBvG,cAAc,CAAC,IAAD,CAAd,CAEAV,KAAK,CACH8J,OADF,CACU,CACRC,MAAM,CAAE,MADA,CAER9C,GAAG,CAAElG,sBAFG,CAGRiE,OAAO,CAAE,CACRC,aAAa,kBAAYtB,KAAZ,CADL,CAHD,CAMRK,IAAI,CAAED,QANE,CADV,EASEmB,IATF,CASO,SAAUC,QAAV,CAAuC,CAC5CzE,cAAc,CAAC,KAAD,CAAd,CAEA,GAAIyE,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA6B,CAC5BnF,KAAK,CAAC+J,OAAN,CAAc,gCAAd,CAAgD,CAC/ClC,QAAQ,CAAE,cADqC,CAE/CC,SAAS,CAAE,IAFoC,CAG/CC,eAAe,CAAE,IAH8B,CAI/CC,YAAY,CAAE,KAJiC,CAK/CC,YAAY,CAAE,IALiC,CAM/CC,SAAS,CAAE,KANoC,CAO/CC,QAAQ,CAAEC,SAPqC,CAAhD,EASA,CAVD,IAUO,CACNpI,KAAK,CAAC4H,KAAN,CACC,yEADD,CAEC,CACCC,QAAQ,CAAE,cADX,CAECC,SAAS,CAAE,IAFZ,CAGCC,eAAe,CAAE,IAHlB,CAICC,YAAY,CAAE,KAJf,CAKCC,YAAY,CAAE,IALf,CAMCC,SAAS,CAAE,KANZ,CAOCC,QAAQ,CAAEC,SAPX,CAFD,EAYA,CACD,CApCF,EAqCE4B,KArCF,CAqCQ,SAAUpC,KAAV,CAAiB,4CACvBnH,cAAc,CAAC,KAAD,CAAd,CAEA,GAAIwJ,CAAAA,QAAQ,CACX,yEADD,CAGA,GACC,mBAAArC,KAAK,CAAC1C,QAAN,mFAAgBnB,IAAhB,sEAAsBmG,OAAtB,IACA,wCAFD,CAGE,4CACDD,QAAQ,mBAAGrC,KAAK,CAAC1C,QAAT,kEAAG,iBAAgBnB,IAAnB,gDAAG,sBAAsBmG,OAAjC,CACA,CAEDlK,KAAK,CAAC4H,KAAN,CAAYqC,QAAZ,CAAsB,CACrBpC,QAAQ,CAAE,cADW,CAErBC,SAAS,CAAE,IAFU,CAGrBC,eAAe,CAAE,IAHI,CAIrBC,YAAY,CAAE,KAJO,CAKrBC,YAAY,CAAE,IALO,CAMrBC,SAAS,CAAE,KANU,CAOrBC,QAAQ,CAAEC,SAPW,CAAtB,EASA,CA3DF,EAPkB,sDAAH,kBAAV+B,CAAAA,UAAU,6CAAhB,CAqEA,QAAS3B,CAAAA,WAAT,EAAuB,CACtB,GAAM6B,CAAAA,CAAC,CAAG,GAAIpG,CAAAA,IAAJ,EAAV,CACA,GAAMqG,CAAAA,OAAO,CAAGD,CAAC,CAACE,WAAF,EAAhB,CACA,GAAMC,CAAAA,QAAQ,CAAGH,CAAC,CAACI,QAAF,GAAe,CAAhC,CACA,GAAMC,CAAAA,MAAM,CAAGL,CAAC,CAACM,OAAF,EAAf,CAEA,GAAMC,CAAAA,QAAQ,CAAGrJ,KAAK,CAACsJ,KAAN,CAAY,GAAZ,CAAjB,CAEA,GAAIC,CAAAA,GAAG,CAAGR,OAAO,CAAGS,MAAM,CAACH,QAAQ,CAAC,CAAD,CAAT,CAA1B,CAEA,GACCJ,QAAQ,CAAGO,MAAM,CAACH,QAAQ,CAAC,CAAD,CAAT,CAAjB,EACCJ,QAAQ,GAAKO,MAAM,CAACH,QAAQ,CAAC,CAAD,CAAT,CAAnB,EAAoCF,MAAM,CAAGK,MAAM,CAACH,QAAQ,CAAC,CAAD,CAAT,CAFrD,CAGE,CACDE,GAAG,EAAI,CAAP,CACA,CACD,GAAIA,GAAG,EAAI,EAAP,EAAaA,GAAG,CAAG,CAAnB,EAAwBA,GAAG,EAAI,GAAnC,CAAwC,MAAO,KAAP,CACxC,MAAO,MAAP,CACA,CAEDpL,SAAS,CAAC,UAAM,CACfsG,mBAAmB,CAAC,SAAD,CAAY,GAAZ,CAAiB,EAAjB,CAAqB,IAArB,CAAnB,CACA,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACC,aAAK,SAAS,CAAC,UAAf,wBACC,YAAK,SAAS,CAAC,gCAAf,uBACC,oDAEC,KAAC,IAAD,EAAM,EAAE,CAAE,SAAV,CAAqB,SAAS,CAAC,aAA/B,uBACC,UAAG,SAAS,CAAC,cAAb,EADD,EAFD,GADD,EADD,cASC,YAAK,SAAS,CAAC,cAAf,uBACC,aAAK,SAAS,CAAC,wBAAf,wBACC,YAAK,SAAS,CAAC,6BAAf,CAA6C,GAAG,CAAEjD,SAAlD,uBACC,KAAC,KAAD,EACC,IAAI,CAAC,uBADN,CAEC,IAAI,CAAC,MAFN,CAGC,WAAW,CAAC,0BAHb,CAIC,KAAK,CAAE5B,IAJR,CAKC,QAAQ,CAAE,kBACT6J,CADS,CAEL,CACJ5J,OAAO,CAAE4J,CAAC,CAACC,MAAH,CAA+B1G,KAAhC,CAAP,CACA,CATF,EADD,EADD,cAcC,YAAK,SAAS,CAAC,MAAf,CAAsB,GAAG,CAAErB,aAA3B,uBACC,KAAC,SAAD,EACC,SAAS,CAAE,YADZ,CAEC,IAAI,CAAE,YAFP,CAGC,IAAI,CAAE,KAHP,CAIC,WAAW,CAAE,iBAJd,CAKC,KAAK,CAAE7B,QALR,CAMC,IAAI,CAAC,iBANN,CAOC,QAAQ,CAAC,EAPV,CAQC,QAAQ,CAAE,kBACT2J,CADS,CAEL,CACJ1J,WAAW,CAAE0J,CAAC,CAACC,MAAH,CAA+B1G,KAAhC,CAAX,CACA,CAZF,EADD,EAdD,cA8BC,YAAK,SAAS,CAAC,MAAf,CAAsB,GAAG,CAAEd,UAA3B,uBACC,KAAC,KAAD,EACC,IAAI,CAAC,OADN,CAEC,IAAI,CAAC,MAFN,CAGC,WAAW,CAAC,oBAHb,CAIC,KAAK,CAAC,oBAJP,CAKC,KAAK,CAAElC,KALR,CAMC,QAAQ,CAAE,kBACTyJ,CADS,CAEL,CACJxJ,QAAQ,CAAEwJ,CAAC,CAACC,MAAH,CAA+B1G,KAAhC,CAAR,CACA,CAVF,EADD,EA9BD,cA4CC,YAAK,SAAS,CAAC,MAAf,CAAsB,GAAG,CAAEpB,WAA3B,uBACC,KAAC,KAAD,EACC,IAAI,CAAC,iBADN,CAEC,IAAI,CAAC,QAFN,CAGC,WAAW,CAAC,gCAHb,CAIC,WAAW,CAAE,CACZ,CAAE4C,KAAK,CAAE,QAAT,CAAmBxB,KAAK,CAAE,QAA1B,CADY,CAEZ,CAAEwB,KAAK,CAAE,OAAT,CAAkBxB,KAAK,CAAE,OAAzB,CAFY,CAGZ,CAAEwB,KAAK,CAAE,OAAT,CAAkBxB,KAAK,CAAE,OAAzB,CAHY,CAJd,CASC,KAAK,CAAE9C,MATR,CAUC,QAAQ,CAAE,kBAACuJ,CAAD,CAA2C,CACpDtJ,SAAS,CAAEsJ,CAAC,CAACC,MAAH,CAAgC1G,KAAjC,CAAT,CACA,CAZF,EADD,EA5CD,cA4DC,YAAK,SAAS,CAAC,uBAAf,CAAuC,GAAG,CAAEnB,SAA5C,uBACC,KAAC,KAAD,EACC,IAAI,CAAC,iBADN,CAEC,IAAI,CAAC,MAFN,CAGC,WAAW,CAAC,6BAHb,CAIC,KAAK,CAAEzB,IAJR,CAKC,QAAQ,CAAE,kBACTqJ,CADS,CAEL,CACJpJ,OAAO,CAAEoJ,CAAC,CAACC,MAAH,CAA+B1G,KAAhC,CAAP,CACA,CATF,EADD,EA5DD,GADD,EATD,cAqFC,YAAK,SAAS,CAAC,2BAAf,EArFD,cAsFC,aAAK,SAAS,CAAC,cAAf,wBACC,UAAG,SAAS,CAAC,wBAAb,mBADD,cAEC,KAAC,KAAD,EACC,IAAI,CAAC,WADN,CAEC,IAAI,CAAC,MAFN,CAGC,WAAW,CAAC,WAHb,CAIC,KAAK,CAAE9B,YAJR,CAKC,QAAQ,CAAE,kBACTuI,CADS,CAEL,CACJtI,eAAe,CAAEsI,CAAC,CAACC,MAAH,CAA+B1G,KAAhC,CAAf,CACA,CATF,EAFD,cAaC,KAAC,KAAD,EACC,IAAI,CAAC,UADN,CAEC,IAAI,CAAC,MAFN,CAGC,WAAW,CAAC,UAHb,CAIC,KAAK,CAAE5B,WAJR,CAKC,QAAQ,CAAE,kBACTqI,CADS,CAEL,CACJpI,cAAc,CAAEoI,CAAC,CAACC,MAAH,CAA+B1G,KAAhC,CAAd,CACA,CATF,EAbD,cAwBC,KAAC,KAAD,EACC,IAAI,CAAC,UADN,CAEC,IAAI,CAAC,MAFN,CAGC,WAAW,CAAC,UAHb,CAIC,KAAK,CAAE5B,WAJR,CAKC,QAAQ,CAAE,kBACTqI,CADS,CAEL,CACJlI,cAAc,CAAEkI,CAAC,CAACC,MAAH,CAA+B1G,KAAhC,CAAd,CACA,CATF,EAxBD,GAtFD,cA0HC,YAAK,SAAS,CAAC,2BAAf,EA1HD,cA2HC,aAAK,SAAS,CAAC,cAAf,wBACC,UAAG,SAAS,CAAC,mBAAb,+BADD,cAEC,YAAK,SAAS,CAAC,wBAAf,uBACC,YAAK,SAAS,CAAC,cAAf,CAA8B,GAAG,CAAElB,UAAnC,uBACC,KAAC,KAAD,EACC,IAAI,CAAC,QADN,CAEC,IAAI,CAAC,QAFN,CAGC,WAAW,CAAC,QAHb,CAIC,WAAW,CAAElB,YAJd,CAKC,QAAQ,CAAE,kBAAC6I,CAAD,CAAY,CACrBhF,mBAAmB,CAAC,SAAD,CAAYgF,CAAC,CAACE,aAAF,CAAgB3G,KAA5B,CAAnB,CACAzC,QAAQ,CAACkJ,CAAC,CAACC,MAAF,CAASE,OAAT,CAAiBH,CAAC,CAACC,MAAF,CAASG,aAA1B,EAAyCC,IAA1C,CAAR,CACA,CARF,CASC,KAAK,CAAExJ,KATR,EADD,EADD,EAFD,GA3HD,cA6IC,YAAK,SAAS,CAAC,2BAAf,EA7ID,cA8IC,aAAK,SAAS,CAAC,cAAf,wBACC,UAAG,SAAS,CAAC,wBAAb,mBADD,cAEC,YAAK,SAAS,CAAC,MAAf,CAAsB,GAAG,CAAE2B,cAA3B,uBACC,KAAC,UAAD,EACC,IAAI,CAAC,aADN,CAEC,KAAK,CAAC,qCAFP,CAGC,MAAM,CAAC,SAHR,CAIC,UAAU,CAAEzC,UAJb,CAKC,QAAQ,CAAE,kBAACiK,CAAD,CAAY,CACrB,GAAIA,CAAC,CAACC,MAAF,CAASK,KAAT,CAAelF,MAAf,CAAwB,CAAxB,EAA6B4E,CAAC,CAACC,MAAF,CAASK,KAAT,CAAelF,MAAf,EAAyB,EAA1D,CAA8D,CAC7D,GAAMmF,CAAAA,aAA6B,CAAG,EAAtC,CACAC,KAAK,CAACC,IAAN,CAAWT,CAAC,CAACC,MAAF,CAASK,KAApB,EAA2BjH,OAA3B,CAAmC,SAACqH,IAAD,CAAe,CACjDH,aAAa,CAAC7E,IAAd,CAAmB,CAClBnC,KAAK,CAAEmH,IADW,CAElB3F,KAAK,CAAE,EAFW,CAGlBY,YAAY,CAAEgF,GAAG,CAACC,eAAJ,CAAoBF,IAApB,CAHI,CAAnB,EAKA,CAND,EAQA1K,aAAa,8BAAKD,UAAL,EAAoBwK,aAApB,EAAb,CACA,CAXD,IAWO,IAAIP,CAAC,CAACC,MAAF,CAASK,KAAT,CAAelF,MAAf,CAAwB,EAA5B,CAAgC,CACtCyF,KAAK,CAAC,oCAAD,CAAL,CACA,CAFM,IAEA,CACN7K,aAAa,CAAC,EAAD,CAAb,CACA,CACD,CAtBF,CAuBC,cAAc,CAAE,wBAACgK,CAAD,CAAY,CAC3B,GAAMc,CAAAA,UAAU,CAAG9I,QAAQ,CAAC+I,cAAT,CAAwB,aAAxB,CAAnB,CACA,GAAID,UAAU,GAAK,IAAnB,CAAyB,CACxBA,UAAU,CAACE,KAAX,GACA,CACD,CA5BF,CA6BC,SAAS,CAAE,IA7BZ,CA8BC,iBAAiB,2FAAE,kBAAOhB,CAAP,6HACdiB,EADc,CACTjB,CAAC,CAACrE,YAAF,CAAekE,KAAf,CAAqB,SAArB,EAAgC,CAAhC,CADS,CAElBoB,EAAE,CAAGA,EAAE,CAACpB,KAAH,CAAS,GAAT,EAAc,CAAd,EAAiBqB,QAAjB,EAAL,CACAD,EAAE,kBAAaA,EAAb,CAAF,CACA9B,UAAU,CAAC8B,EAAD,CAAV,CAAehH,IAAf,CAAoB,UAAM,CACzBjE,aAAa,CACZD,UAAU,CAACoL,MAAX,CACC,SAACT,IAAD,QAAeA,CAAAA,IAAI,CAAC/E,YAAL,GAAsBqE,CAAC,CAACrE,YAAvC,EADD,CADY,CAAb,CAKA,CAND,EAJkB,wDAAF,gEA9BlB,EADD,EAFD,cA+CC,WAAI,SAAS,CAAC,MAAd,EA/CD,cAgDC,UAAG,SAAS,CAAC,wBAAb,uBAhDD,cAiDC,YAAK,SAAS,CAAC,MAAf,uBACC,KAAC,UAAD,EACC,IAAI,CAAC,cADN,CAEC,MAAM,CAAC,SAFR,CAGC,KAAK,CAAC,uFAHP,CAIC,UAAU,CAAE1F,WAJb,CAKC,QAAQ,CAAE,kBAAC+J,CAAD,CAAY,CACrB,GAAIA,CAAC,CAACC,MAAF,CAASK,KAAT,CAAelF,MAAf,CAAwB,CAAxB,EAA6B4E,CAAC,CAACC,MAAF,CAASK,KAAT,CAAelF,MAAf,EAAyB,CAA1D,CAA6D,CAC5D,GAAMmF,CAAAA,aAA6B,CAAG,EAAtC,CACAC,KAAK,CAACC,IAAN,CAAWT,CAAC,CAACC,MAAF,CAASK,KAApB,EAA2BjH,OAA3B,CAAmC,SAACqH,IAAD,CAAe,CACjDH,aAAa,CAAC7E,IAAd,CAAmB,CAClBnC,KAAK,CAAEmH,IADW,CAElB3F,KAAK,CAAE,EAFW,CAGlBY,YAAY,CAAEgF,GAAG,CAACC,eAAJ,CAAoBF,IAApB,CAHI,CAAnB,EAKA,CAND,EAQAxK,cAAc,8BAAKD,WAAL,EAAqBsK,aAArB,EAAd,CACA,CAXD,IAWO,IAAIP,CAAC,CAACC,MAAF,CAASK,KAAT,CAAelF,MAAf,CAAwB,CAA5B,CAA+B,CACrCyF,KAAK,CAAC,kCAAD,CAAL,CACA,CAFM,IAEA,CACN3K,cAAc,CAAC,EAAD,CAAd,CACA,CACD,CAtBF,CAuBC,cAAc,CAAE,wBAAC8J,CAAD,CAAY,CAC3B,GAAMc,CAAAA,UAAU,CAAG9I,QAAQ,CAAC+I,cAAT,CAAwB,cAAxB,CAAnB,CACA,GAAID,UAAU,GAAK,IAAnB,CAAyB,CACxBA,UAAU,CAACE,KAAX,GACA,CACD,CA5BF,CA6BC,SAAS,CAAE,IA7BZ,CA8BC,iBAAiB,CAAE,2BAAChB,CAAD,CAAY,CAC9B,GAAIiB,CAAAA,EAAE,CAAGjB,CAAC,CAACrE,YAAF,CAAekE,KAAf,CAAqB,SAArB,EAAgC,CAAhC,CAAT,CACAoB,EAAE,kBAAaA,EAAb,CAAF,CACA9B,UAAU,CAAC8B,EAAD,CAAV,CAAehH,IAAf,CAAoB,UAAM,CACzB/D,cAAc,CACbD,WAAW,CAACkL,MAAZ,CACC,SAACT,IAAD,QAAeA,CAAAA,IAAI,CAAC/E,YAAL,GAAsBqE,CAAC,CAACrE,YAAvC,EADD,CADa,CAAd,CAKA,CAND,EAOA,CAxCF,EADD,EAjDD,GA9ID,cA4OC,YAAK,SAAS,CAAC,OAAf,EA5OD,cA6OC,YAAK,SAAS,CAAC,iBAAf,uBACC,eACC;AACA,IAAI,CAAC,QAFN,CAGC,OAAO,CAAEgB,QAHV,CAIC,SAAS,CAAC,oDAJX,uBADD,EA7OD,cAuPC,KAAC,OAAD,EAAS,WAAW,CAAEnH,WAAtB,EAvPD,GADD,CA2PA,CApyBD,CAsyBA,cAAeF,CAAAA,wBAAf","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport { Link, RouteComponentProps } from 'react-router-dom';\n\nimport { useRecoilValue } from 'recoil';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport InputMask from 'react-input-mask';\nimport { endpointState } from '../../recoil/atoms';\n\nimport Input from '../../components/Input/Input';\nimport InputFiles from '../../components/InputFiles/InputFiles';\nimport Loading from '../../components/Loading/Loading';\n\nconst UpdatePerfilCloseFriends: React.FC<RouteComponentProps> = ({\n\thistory,\n}) => {\n\ttype typeResponseAxios = {\n\t\t[key: string]: any;\n\t};\n\n\ttype valueFilesType = {\n\t\tlabel: string;\n\t\tvalue: string;\n\t\turlThumbnail: string;\n\t}[];\n\n\ttype selectValues = {\n\t\tlabel: string;\n\t\tvalue: string;\n\t}[];\n\n\tconst [showLoading, setShowLoading] = useState(false);\n\n\tconst { urlEndpoint, urlEndpointEstados } = useRecoilValue(endpointState);\n\tconst urlAcompanhante = `${urlEndpoint}/api/account`;\n\tconst urlEndpointCreatePerfil = `${urlEndpoint}/api/account/update`;\n\tconst urlEndpointDeleteMedia = `${urlEndpoint}/api/account/delete`;\n\n\tconst [filesFotos, setFilesFotos] = useState<valueFilesType>([]);\n\tconst [filesVideos, setFilesVideos] = useState<valueFilesType>([]);\n\n\tconst [name, setName] = useState('');\n\tconst [whatsApp, setWhatsApp] = useState('');\n\tconst [birth, setBirth] = useState('');\n\tconst [gender, setGender] = useState('');\n\tconst [info, setInfo] = useState('');\n\tconst [state, setState] = useState('');\n\tconst [city, setCity] = useState('');\n\tconst [neighborhood, setNeighborhood] = useState('');\n\n\tconst [estadoSelect, setEstadoSelect] = useState<selectValues>([]);\n\tconst [cidadeSelect, setCidadeSelect] = useState<selectValues>([]);\n\tconst [bairroText, setBairroText] = useState('');\n\tconst [urlInstagram, setUrlInstagram] = useState('');\n\tconst [urlLinktree, setUrlLinktree] = useState('');\n\tconst [urlOnlyfans, setUrlOnlyfans] = useState('');\n\n\tconst nameInput = useRef(document.createElement('div'));\n\tconst whatsappInput = useRef(document.createElement('div'));\n\tconst genderInput = useRef(document.createElement('div'));\n\tconst infoInput = useRef(document.createElement('div'));\n\tconst stateInput = useRef(document.createElement('div'));\n\tconst cityInput = useRef(document.createElement('div'));\n\tconst neighborhoodInput = useRef(document.createElement('div'));\n\tconst filePhotoInput = useRef(document.createElement('div'));\n\tconst birthInput = useRef(document.createElement('div'));\n\n\tconst token = localStorage.getItem('token');\n\n\tfunction buildFormData(formData: any, data: any, parentKey?: any) {\n\t\tif (\n\t\t\tdata &&\n\t\t\ttypeof data === 'object' &&\n\t\t\t!(data instanceof Date) &&\n\t\t\t!(data instanceof File)\n\t\t) {\n\t\t\tObject.keys(data).forEach(key => {\n\t\t\t\tbuildFormData(\n\t\t\t\t\tformData,\n\t\t\t\t\tdata[key],\n\t\t\t\t\tparentKey ? `${parentKey}[${key}]` : key,\n\t\t\t\t);\n\t\t\t});\n\t\t} else {\n\t\t\tconst value = data == null ? '' : data;\n\n\t\t\tformData.append(parentKey, value);\n\t\t}\n\t}\n\n\tfunction jsonToFormData(data: any) {\n\t\tconst formData = new FormData();\n\n\t\tbuildFormData(formData, data);\n\n\t\treturn formData;\n\t}\n\n\tconst getInfoUser = (statesArray: any[]) => {\n\t\tconst myStatesArray = statesArray;\n\n\t\taxios\n\t\t\t.get(urlAcompanhante, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (response.status === 200) {\n\t\t\t\t\tconst stateResponse = response.data.address?.state;\n\t\t\t\t\tconst cityResponse = response.data.address?.city;\n\n\t\t\t\t\tsetName(response.data.profile?.nickname);\n\t\t\t\t\tsetWhatsApp(response.data.profile?.whatsapp);\n\t\t\t\t\tsetInfo(response.data.profile?.info);\n\t\t\t\t\tsetBirth(response.data.profile?.birth);\n\t\t\t\t\tsetGender(response.data.profile?.gender);\n\t\t\t\t\tsetInfo(response.data.profile?.info);\n\t\t\t\t\tsetUrlInstagram(response.data.profile?.url_instagram);\n\t\t\t\t\tsetUrlLinktree(response.data.profile?.url_linktree);\n\t\t\t\t\tsetUrlOnlyfans(response.data.profile?.url_onlyfans);\n\n\t\t\t\t\tsetState(stateResponse);\n\t\t\t\t\tlet idState = '0';\n\t\t\t\t\tmyStatesArray.forEach(element => {\n\t\t\t\t\t\tif (element.label === stateResponse) {\n\t\t\t\t\t\t\tidState = element.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tsetSelectsAxiosIbge('cidades', idState, cityResponse);\n\t\t\t\t\tsetNeighborhood(response.data.address?.neighborhood);\n\n\t\t\t\t\tconst fotos: valueFilesType = [];\n\t\t\t\t\tconst videos: valueFilesType = [];\n\n\t\t\t\t\tif (response.data.profile.midias.length > 0) {\n\t\t\t\t\t\tconst midiasProfile = response.data.profile.midias;\n\n\t\t\t\t\t\tmidiasProfile.forEach((midia: any) => {\n\t\t\t\t\t\t\tif (midia.type === 'image') {\n\t\t\t\t\t\t\t\tconst lastMidiaLink =\n\t\t\t\t\t\t\t\t\tmidia.link[\n\t\t\t\t\t\t\t\t\t\tObject.keys(midia.link)[Object.keys(midia.link).length - 1]\n\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\tfotos.push({\n\t\t\t\t\t\t\t\t\tlabel: '',\n\t\t\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\t\t\turlThumbnail: lastMidiaLink,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else if (midia.type === 'video') {\n\t\t\t\t\t\t\t\tvideos.push({\n\t\t\t\t\t\t\t\t\tlabel: '',\n\t\t\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\t\t\turlThumbnail: midia.link,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tsetFilesFotos(fotos);\n\t\t\t\t\tsetFilesVideos(videos);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tconst setSelectsAxiosIbge = (\n\t\ttipoEstadoCidade: 'estados' | 'cidades' = 'estados',\n\t\tidEstado = '33',\n\t\tlabelCidade = '',\n\t\tcallGetInfoUser = false,\n\t) => {\n\t\tconst url = {\n\t\t\testados: urlEndpointEstados,\n\t\t\tcidades: `${urlEndpointEstados}${idEstado}/municipios`,\n\t\t};\n\n\t\tconst setSelect = {\n\t\t\testados: setEstadoSelect,\n\t\t\tcidades: setCidadeSelect,\n\t\t};\n\n\t\tconst orderByName = {\n\t\t\testados: 'sigla',\n\t\t\tcidades: 'nome',\n\t\t};\n\n\t\taxios\n\t\t\t.get(url[tipoEstadoCidade], {\n\t\t\t\t// headers: {\n\t\t\t\t// \tAuthorization: `Bearer ${token}`,\n\t\t\t\t// },\n\t\t\t})\n\t\t\t.then(function (response: typeResponseAxios) {\n\t\t\t\tif (response.data.length > 0) {\n\t\t\t\t\tconst newValue: selectValues = [];\n\n\t\t\t\t\tconst cidadesEstados = response.data.sort((a: any, b: any) =>\n\t\t\t\t\t\ta[orderByName[tipoEstadoCidade]] > b[orderByName[tipoEstadoCidade]]\n\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t: -1,\n\t\t\t\t\t);\n\n\t\t\t\t\tresponse.data.forEach((element: any) => {\n\t\t\t\t\t\tif (tipoEstadoCidade === 'estados') {\n\t\t\t\t\t\t\tif (element.id === 33) {\n\t\t\t\t\t\t\t\tnewValue.push({\n\t\t\t\t\t\t\t\t\tlabel: element[orderByName[tipoEstadoCidade]],\n\t\t\t\t\t\t\t\t\tvalue: element.id,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnewValue.push({\n\t\t\t\t\t\t\t\tlabel: element[orderByName[tipoEstadoCidade]],\n\t\t\t\t\t\t\t\tvalue: element.id,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tsetSelect[tipoEstadoCidade]([]);\n\t\t\t\t\tsetSelect[tipoEstadoCidade](newValue);\n\t\t\t\t\tsetCity(labelCidade);\n\t\t\t\t\tif (callGetInfoUser) {\n\t\t\t\t\t\tgetInfoUser(newValue);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetSelect[tipoEstadoCidade]([]);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tconst sendForm = () => {\n\t\tif (name === '') {\n\t\t\ttoast.error('Informe como deseja ser chamado.', {\n\t\t\t\tposition: 'bottom-right',\n\t\t\t\tautoClose: 3000,\n\t\t\t\thideProgressBar: true,\n\t\t\t\tcloseOnClick: false,\n\t\t\t\tpauseOnHover: true,\n\t\t\t\tdraggable: false,\n\t\t\t\tprogress: undefined,\n\t\t\t});\n\t\t\tnameInput.current.scrollIntoView({ behavior: 'smooth' });\n\t\t} else if (whatsApp === '') {\n\t\t\ttoast.error('Número de Whatsapp não informado.', {\n\t\t\t\tposition: 'bottom-right',\n\t\t\t\tautoClose: 3000,\n\t\t\t\thideProgressBar: true,\n\t\t\t\tcloseOnClick: false,\n\t\t\t\tpauseOnHover: true,\n\t\t\t\tdraggable: false,\n\t\t\t\tprogress: undefined,\n\t\t\t});\n\t\t\twhatsappInput.current.scrollIntoView({ behavior: 'smooth' });\n\t\t} else if (whatsApp.length !== 15) {\n\t\t\ttoast.error('Número de Whatsapp inválido.', {\n\t\t\t\tposition: 'bottom-right',\n\t\t\t\tautoClose: 3000,\n\t\t\t\thideProgressBar: true,\n\t\t\t\tcloseOnClick: false,\n\t\t\t\tpauseOnHover: true,\n\t\t\t\tdraggable: false,\n\t\t\t\tprogress: undefined,\n\t\t\t});\n\t\t\twhatsappInput.current.scrollIntoView({ behavior: 'smooth' });\n\t\t} else if (birth === '') {\n\t\t\ttoast.error('Data de nascimento não informado.', {\n\t\t\t\tposition: 'bottom-right',\n\t\t\t\tautoClose: 3000,\n\t\t\t\thideProgressBar: true,\n\t\t\t\tcloseOnClick: false,\n\t\t\t\tpauseOnHover: true,\n\t\t\t\tdraggable: false,\n\t\t\t\tprogress: undefined,\n\t\t\t});\n\t\t\tbirthInput.current.scrollIntoView({ behavior: 'smooth' });\n\t\t} else if (validateAge() === false) {\n\t\t\ttoast.error('Idade menor que 18 anos ou inválida.', {\n\t\t\t\tposition: 'bottom-right',\n\t\t\t\tautoClose: 3000,\n\t\t\t\thideProgressBar: true,\n\t\t\t\tcloseOnClick: false,\n\t\t\t\tpauseOnHover: true,\n\t\t\t\tdraggable: false,\n\t\t\t\tprogress: undefined,\n\t\t\t});\n\t\t\tbirthInput.current.scrollIntoView({ behavior: 'smooth' });\n\t\t} else if (gender === '' || gender === 'Como quer ser identificado(a)?') {\n\t\t\ttoast.error('Informe como deseja ser identificado(a).', {\n\t\t\t\tposition: 'bottom-right',\n\t\t\t\tautoClose: 3000,\n\t\t\t\thideProgressBar: true,\n\t\t\t\tcloseOnClick: false,\n\t\t\t\tpauseOnHover: true,\n\t\t\t\tdraggable: false,\n\t\t\t\tprogress: undefined,\n\t\t\t});\n\t\t\tgenderInput.current.scrollIntoView({ behavior: 'smooth' });\n\t\t} else if (info === '') {\n\t\t\ttoast.error('Favor fale um pouco sobre você..', {\n\t\t\t\tposition: 'bottom-right',\n\t\t\t\tautoClose: 3000,\n\t\t\t\thideProgressBar: true,\n\t\t\t\tcloseOnClick: false,\n\t\t\t\tpauseOnHover: true,\n\t\t\t\tdraggable: false,\n\t\t\t\tprogress: undefined,\n\t\t\t});\n\t\t\tinfoInput.current.scrollIntoView({ behavior: 'smooth' });\n\t\t} else if (state === '') {\n\t\t\ttoast.error('Favor selecione a seu estado.', {\n\t\t\t\tposition: 'bottom-right',\n\t\t\t\tautoClose: 3000,\n\t\t\t\thideProgressBar: true,\n\t\t\t\tcloseOnClick: false,\n\t\t\t\tpauseOnHover: true,\n\t\t\t\tdraggable: false,\n\t\t\t\tprogress: undefined,\n\t\t\t});\n\t\t\tstateInput.current.scrollIntoView({ behavior: 'smooth' });\n\t\t} else if (city === '' || city === 'Cidade') {\n\t\t\ttoast.error('Favor selecione o sua cidade.', {\n\t\t\t\tposition: 'bottom-right',\n\t\t\t\tautoClose: 3000,\n\t\t\t\thideProgressBar: true,\n\t\t\t\tcloseOnClick: false,\n\t\t\t\tpauseOnHover: true,\n\t\t\t\tdraggable: false,\n\t\t\t\tprogress: undefined,\n\t\t\t});\n\t\t\tcityInput.current.scrollIntoView({ behavior: 'smooth' });\n\t\t} else if (neighborhood === '') {\n\t\t\ttoast.error('Favor informe seu bairro.', {\n\t\t\t\tposition: 'bottom-right',\n\t\t\t\tautoClose: 3000,\n\t\t\t\thideProgressBar: true,\n\t\t\t\tcloseOnClick: false,\n\t\t\t\tpauseOnHover: true,\n\t\t\t\tdraggable: false,\n\t\t\t\tprogress: undefined,\n\t\t\t});\n\t\t\tneighborhoodInput.current.scrollIntoView({ behavior: 'smooth' });\n\t\t} else if (!filesFotos.length) {\n\t\t\ttoast.error('Favor post ao menos uma foto.', {\n\t\t\t\tposition: 'bottom-right',\n\t\t\t\tautoClose: 3000,\n\t\t\t\thideProgressBar: true,\n\t\t\t\tcloseOnClick: false,\n\t\t\t\tpauseOnHover: true,\n\t\t\t\tdraggable: false,\n\t\t\t\tprogress: undefined,\n\t\t\t});\n\t\t\tfilePhotoInput.current.scrollIntoView({ behavior: 'smooth' });\n\t\t} else {\n\t\t\tconst images: any[] = [];\n\t\t\tconst videos: any[] = [];\n\n\t\t\tfilesFotos.forEach(element => {\n\t\t\t\tif (typeof element.value !== typeof File) {\n\t\t\t\t\timages.push(element.value);\n\t\t\t\t}\n\t\t\t});\n\t\t\tfilesVideos.forEach(element => {\n\t\t\t\tif (typeof element.value !== typeof File) {\n\t\t\t\t\tvideos.push(element.value);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst formDataJson = {\n\t\t\t\tprofile: {\n\t\t\t\t\tnickname: name,\n\t\t\t\t\twhatsapp: whatsApp,\n\t\t\t\t\tgender,\n\t\t\t\t\theight: '',\n\t\t\t\t\tprofile_eyes_id: '',\n\t\t\t\t\tweight: '',\n\t\t\t\t\tclothingSize: '',\n\t\t\t\t\tfootSize: '',\n\t\t\t\t\tprofile_skin_color_id: '',\n\t\t\t\t\tprofile_hair_id: '',\n\t\t\t\t\tprofile_breasts_id: '',\n\t\t\t\t\tinfo,\n\t\t\t\t\tprice: '0',\n\t\t\t\t\tcan_local: '0',\n\t\t\t\t\toccasion: '',\n\t\t\t\t\ttype_service: '',\n\t\t\t\t\tlanguages: '',\n\t\t\t\t\tpayment_type: '',\n\t\t\t\t\turl_instagram: urlInstagram,\n\t\t\t\t\turl_linketree: urlLinktree,\n\t\t\t\t\turl_onlyfans: urlOnlyfans,\n\t\t\t\t\tbirth,\n\t\t\t\t},\n\t\t\t\taddress: {\n\t\t\t\t\tzipcode: '0',\n\t\t\t\t\tnumber: '0',\n\t\t\t\t\taddress: '0',\n\t\t\t\t\treference: '0',\n\n\t\t\t\t\tstate,\n\t\t\t\t\tcity,\n\t\t\t\t\tneighborhood,\n\t\t\t\t},\n\t\t\t\timages,\n\t\t\t\tvideos,\n\t\t\t};\n\n\t\t\tconst formData = jsonToFormData(formDataJson);\n\n\t\t\tsetShowLoading(true);\n\n\t\t\taxios\n\t\t\t\t.request({\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\turl: urlEndpointCreatePerfil,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data;',\n\t\t\t\t\t},\n\t\t\t\t\tdata: formData,\n\t\t\t\t})\n\t\t\t\t.then(function (response: typeResponseAxios) {\n\t\t\t\t\tsetShowLoading(false);\n\n\t\t\t\t\tif (response.status === 204) {\n\t\t\t\t\t\ttoast.success('Perfil atualizado com sucesso!', {\n\t\t\t\t\t\t\tposition: 'bottom-right',\n\t\t\t\t\t\t\tautoClose: 3000,\n\t\t\t\t\t\t\thideProgressBar: true,\n\t\t\t\t\t\t\tcloseOnClick: false,\n\t\t\t\t\t\t\tpauseOnHover: true,\n\t\t\t\t\t\t\tdraggable: false,\n\t\t\t\t\t\t\tprogress: undefined,\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoast.error(\n\t\t\t\t\t\t\t'Erro ao tentar enviar seus dados, por favor tente novamente mais tarde.',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tposition: 'bottom-right',\n\t\t\t\t\t\t\t\tautoClose: 3000,\n\t\t\t\t\t\t\t\thideProgressBar: true,\n\t\t\t\t\t\t\t\tcloseOnClick: false,\n\t\t\t\t\t\t\t\tpauseOnHover: true,\n\t\t\t\t\t\t\t\tdraggable: false,\n\t\t\t\t\t\t\t\tprogress: undefined,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(function (error) {\n\t\t\t\t\tsetShowLoading(false);\n\n\t\t\t\t\tlet msgError =\n\t\t\t\t\t\t'Erro ao tentar enviar seus dados, por favor tente novamente mais tarde.';\n\n\t\t\t\t\tif (\n\t\t\t\t\t\terror.response?.data?.message ===\n\t\t\t\t\t\t'O vídeo deve ter no máximo 20 segundos'\n\t\t\t\t\t) {\n\t\t\t\t\t\tmsgError = error.response?.data?.message;\n\t\t\t\t\t}\n\n\t\t\t\t\ttoast.error(msgError, {\n\t\t\t\t\t\tposition: 'bottom-right',\n\t\t\t\t\t\tautoClose: 3000,\n\t\t\t\t\t\thideProgressBar: true,\n\t\t\t\t\t\tcloseOnClick: false,\n\t\t\t\t\t\tpauseOnHover: true,\n\t\t\t\t\t\tdraggable: false,\n\t\t\t\t\t\tprogress: undefined,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t};\n\n\tconst deleteFile = async (url: string) => {\n\t\tconst formData = {\n\t\t\tpath: url,\n\t\t};\n\n\t\tsetShowLoading(true);\n\n\t\taxios\n\t\t\t.request({\n\t\t\t\tmethod: 'POST',\n\t\t\t\turl: urlEndpointDeleteMedia,\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\t},\n\t\t\t\tdata: formData,\n\t\t\t})\n\t\t\t.then(function (response: typeResponseAxios) {\n\t\t\t\tsetShowLoading(false);\n\n\t\t\t\tif (response.status === 204) {\n\t\t\t\t\ttoast.success('Perfil atualizado com sucesso!', {\n\t\t\t\t\t\tposition: 'bottom-right',\n\t\t\t\t\t\tautoClose: 3000,\n\t\t\t\t\t\thideProgressBar: true,\n\t\t\t\t\t\tcloseOnClick: false,\n\t\t\t\t\t\tpauseOnHover: true,\n\t\t\t\t\t\tdraggable: false,\n\t\t\t\t\t\tprogress: undefined,\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttoast.error(\n\t\t\t\t\t\t'Erro ao tentar enviar seus dados, por favor tente novamente mais tarde.',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tposition: 'bottom-right',\n\t\t\t\t\t\t\tautoClose: 3000,\n\t\t\t\t\t\t\thideProgressBar: true,\n\t\t\t\t\t\t\tcloseOnClick: false,\n\t\t\t\t\t\t\tpauseOnHover: true,\n\t\t\t\t\t\t\tdraggable: false,\n\t\t\t\t\t\t\tprogress: undefined,\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tsetShowLoading(false);\n\n\t\t\t\tlet msgError =\n\t\t\t\t\t'Erro ao tentar enviar seus dados, por favor tente novamente mais tarde.';\n\n\t\t\t\tif (\n\t\t\t\t\terror.response?.data?.message ===\n\t\t\t\t\t'O vídeo deve ter no máximo 20 segundos'\n\t\t\t\t) {\n\t\t\t\t\tmsgError = error.response?.data?.message;\n\t\t\t\t}\n\n\t\t\t\ttoast.error(msgError, {\n\t\t\t\t\tposition: 'bottom-right',\n\t\t\t\t\tautoClose: 3000,\n\t\t\t\t\thideProgressBar: true,\n\t\t\t\t\tcloseOnClick: false,\n\t\t\t\t\tpauseOnHover: true,\n\t\t\t\t\tdraggable: false,\n\t\t\t\t\tprogress: undefined,\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\tfunction validateAge() {\n\t\tconst d = new Date();\n\t\tconst yearNow = d.getFullYear();\n\t\tconst monthNow = d.getMonth() + 1;\n\t\tconst dayNow = d.getDate();\n\n\t\tconst dateBorn = birth.split('-');\n\n\t\tlet age = yearNow - Number(dateBorn[0]);\n\n\t\tif (\n\t\t\tmonthNow < Number(dateBorn[1]) ||\n\t\t\t(monthNow === Number(dateBorn[1]) && dayNow < Number(dateBorn[3]))\n\t\t) {\n\t\t\tage -= 1;\n\t\t}\n\t\tif (age >= 18 && age > 0 && age <= 113) return true;\n\t\treturn false;\n\t}\n\n\tuseEffect(() => {\n\t\tsetSelectsAxiosIbge('estados', '0', '', true);\n\t}, []);\n\n\treturn (\n\t\t<div className=\"bg-white\">\n\t\t\t<div className=\"cabecalho-register text-center\">\n\t\t\t\t<p>\n\t\t\t\t\tAtualize perfil\n\t\t\t\t\t<Link to={'/perfil'} className=\"float-right\">\n\t\t\t\t\t\t<i className=\"fas fa-times\" />\n\t\t\t\t\t</Link>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className=\"px-20px py-5\">\n\t\t\t\t<div className=\"grid grid-cols-1 gap-2\">\n\t\t\t\t\t<div className=\"bloco-como-quer-ser-chamado\" ref={nameInput}>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tname=\"como-quer-ser-chamado\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"Como quer ser chamado(a)\"\n\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\tonChange={(\n\t\t\t\t\t\t\t\te: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\tsetName((e.target as HTMLInputElement).value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"mb-2\" ref={whatsappInput}>\n\t\t\t\t\t\t<InputMask\n\t\t\t\t\t\t\tclassName={'form-input'}\n\t\t\t\t\t\t\tname={'n_whatsapp'}\n\t\t\t\t\t\t\ttype={'tel'}\n\t\t\t\t\t\t\tplaceholder={'Número WhatsApp'}\n\t\t\t\t\t\t\tvalue={whatsApp}\n\t\t\t\t\t\t\tmask=\"(99) 99999-9999\"\n\t\t\t\t\t\t\tmaskChar=\"\"\n\t\t\t\t\t\t\tonChange={(\n\t\t\t\t\t\t\t\te: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\tsetWhatsApp((e.target as HTMLInputElement).value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"mb-2\" ref={birthInput}>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tname=\"birth\"\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tplaceholder=\"Data de Nascimento\"\n\t\t\t\t\t\t\tlabel=\"Data de Nascimento\"\n\t\t\t\t\t\t\tvalue={birth}\n\t\t\t\t\t\t\tonChange={(\n\t\t\t\t\t\t\t\te: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\tsetBirth((e.target as HTMLInputElement).value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"mb-2\" ref={genderInput}>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tname=\"como_indetifico\"\n\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\tplaceholder=\"Como quer ser identificado(a)?\"\n\t\t\t\t\t\t\tvalueSelect={[\n\t\t\t\t\t\t\t\t{ label: 'Mulher', value: 'mulher' },\n\t\t\t\t\t\t\t\t{ label: 'Homem', value: 'homem' },\n\t\t\t\t\t\t\t\t{ label: 'Trans', value: 'trans' },\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tvalue={gender}\n\t\t\t\t\t\t\tonChange={(e: React.FormEvent<HTMLSelectElement>) => {\n\t\t\t\t\t\t\t\tsetGender((e.target as HTMLSelectElement).value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"bloco-fale-sobre-voce\" ref={infoInput}>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tname=\"fale-sobre-voce\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"Fale um pouco sobre você\"\n\t\t\t\t\t\t\tvalue={info}\n\t\t\t\t\t\t\tonChange={(\n\t\t\t\t\t\t\t\te: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\tsetInfo((e.target as HTMLInputElement).value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"separador-create-perfil-2\" />\n\t\t\t<div className=\"px-20px py-5\">\n\t\t\t\t<p className=\"text-color-413872 mb-4\">Links</p>\n\t\t\t\t<Input\n\t\t\t\t\tname=\"instagram\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Instagram\"\n\t\t\t\t\tvalue={urlInstagram}\n\t\t\t\t\tonChange={(\n\t\t\t\t\t\te: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n\t\t\t\t\t) => {\n\t\t\t\t\t\tsetUrlInstagram((e.target as HTMLInputElement).value);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<Input\n\t\t\t\t\tname=\"linktree\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Linktree\"\n\t\t\t\t\tvalue={urlLinktree}\n\t\t\t\t\tonChange={(\n\t\t\t\t\t\te: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n\t\t\t\t\t) => {\n\t\t\t\t\t\tsetUrlLinktree((e.target as HTMLInputElement).value);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<Input\n\t\t\t\t\tname=\"onlyfans\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Onlyfans\"\n\t\t\t\t\tvalue={urlLinktree}\n\t\t\t\t\tonChange={(\n\t\t\t\t\t\te: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n\t\t\t\t\t) => {\n\t\t\t\t\t\tsetUrlOnlyfans((e.target as HTMLInputElement).value);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"separador-create-perfil-2\" />\n\t\t\t<div className=\"px-20px py-5\">\n\t\t\t\t<p className=\"text-color-413872\">Localização</p>\n\t\t\t\t<div className=\"grid grid-cols-1 gap-2\">\n\t\t\t\t\t<div className=\"bloco-estado\" ref={stateInput}>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tname=\"estado\"\n\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\tplaceholder=\"Estado\"\n\t\t\t\t\t\t\tvalueSelect={estadoSelect}\n\t\t\t\t\t\t\tonChange={(e: any) => {\n\t\t\t\t\t\t\t\tsetSelectsAxiosIbge('cidades', e.currentTarget.value);\n\t\t\t\t\t\t\t\tsetState(e.target.options[e.target.selectedIndex].text);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvalue={state}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"separador-create-perfil-2\" />\n\t\t\t<div className=\"px-20px py-5\">\n\t\t\t\t<p className=\"text-color-413872 mb-2\">Fotos</p>\n\t\t\t\t<div className=\"mb-6\" ref={filePhotoInput}>\n\t\t\t\t\t<InputFiles\n\t\t\t\t\t\tname=\"files-fotos\"\n\t\t\t\t\t\tlabel=\"Adicione até 10 fotos de uma vez\"\n\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\tvalueFiles={filesFotos}\n\t\t\t\t\t\tonChange={(e: any) => {\n\t\t\t\t\t\t\tif (e.target.files.length > 0 && e.target.files.length <= 10) {\n\t\t\t\t\t\t\t\tconst newFilesValue: valueFilesType = [];\n\t\t\t\t\t\t\t\tArray.from(e.target.files).forEach((file: any) => {\n\t\t\t\t\t\t\t\t\tnewFilesValue.push({\n\t\t\t\t\t\t\t\t\t\tvalue: file,\n\t\t\t\t\t\t\t\t\t\tlabel: '',\n\t\t\t\t\t\t\t\t\t\turlThumbnail: URL.createObjectURL(file),\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tsetFilesFotos([...filesFotos, ...newFilesValue]);\n\t\t\t\t\t\t\t} else if (e.target.files.length > 10) {\n\t\t\t\t\t\t\t\talert('Você pode enviar apenas 10 imagens');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetFilesFotos([]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClickAddFile={(e: any) => {\n\t\t\t\t\t\t\tconst inputFiles = document.getElementById('files-fotos');\n\t\t\t\t\t\t\tif (inputFiles !== null) {\n\t\t\t\t\t\t\t\tinputFiles.click();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\thasRemove={true}\n\t\t\t\t\t\tonClickRemoveFile={async (e: any) => {\n\t\t\t\t\t\t\tlet fl = e.urlThumbnail.split('midias/')[1];\n\t\t\t\t\t\t\tfl = fl.split('/')[0].toString();\n\t\t\t\t\t\t\tfl = `midias/${fl}`;\n\t\t\t\t\t\t\tdeleteFile(fl).then(() => {\n\t\t\t\t\t\t\t\tsetFilesFotos(\n\t\t\t\t\t\t\t\t\tfilesFotos.filter(\n\t\t\t\t\t\t\t\t\t\t(file: any) => file.urlThumbnail !== e.urlThumbnail,\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<hr className=\"mb-6\" />\n\t\t\t\t<p className=\"text-color-413872 mb-2\">Vídeos</p>\n\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t<InputFiles\n\t\t\t\t\t\tname=\"files-videos\"\n\t\t\t\t\t\taccept=\"video/*\"\n\t\t\t\t\t\tlabel=\"Adicione até 3 vídeos de uma vez. O vídeo deve ter no máximo 20 segundos.\"\n\t\t\t\t\t\tvalueFiles={filesVideos}\n\t\t\t\t\t\tonChange={(e: any) => {\n\t\t\t\t\t\t\tif (e.target.files.length > 0 && e.target.files.length <= 3) {\n\t\t\t\t\t\t\t\tconst newFilesValue: valueFilesType = [];\n\t\t\t\t\t\t\t\tArray.from(e.target.files).forEach((file: any) => {\n\t\t\t\t\t\t\t\t\tnewFilesValue.push({\n\t\t\t\t\t\t\t\t\t\tvalue: file,\n\t\t\t\t\t\t\t\t\t\tlabel: '',\n\t\t\t\t\t\t\t\t\t\turlThumbnail: URL.createObjectURL(file),\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tsetFilesVideos([...filesVideos, ...newFilesValue]);\n\t\t\t\t\t\t\t} else if (e.target.files.length > 3) {\n\t\t\t\t\t\t\t\talert('Você pode enviar apenas 3 vídeos');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetFilesVideos([]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClickAddFile={(e: any) => {\n\t\t\t\t\t\t\tconst inputFiles = document.getElementById('files-videos');\n\t\t\t\t\t\t\tif (inputFiles !== null) {\n\t\t\t\t\t\t\t\tinputFiles.click();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\thasRemove={true}\n\t\t\t\t\t\tonClickRemoveFile={(e: any) => {\n\t\t\t\t\t\t\tlet fl = e.urlThumbnail.split('midias/')[1];\n\t\t\t\t\t\t\tfl = `midias/${fl}`;\n\t\t\t\t\t\t\tdeleteFile(fl).then(() => {\n\t\t\t\t\t\t\t\tsetFilesVideos(\n\t\t\t\t\t\t\t\t\tfilesVideos.filter(\n\t\t\t\t\t\t\t\t\t\t(file: any) => file.urlThumbnail !== e.urlThumbnail,\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"pb-20\" />\n\t\t\t<div className=\"footer-register\">\n\t\t\t\t<button\n\t\t\t\t\t// to={'/packets'}\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={sendForm}\n\t\t\t\t\tclassName=\"block w-full p-2 rounded-full text-center bg-white\"\n\t\t\t\t>\n\t\t\t\t\tContinuar\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<Loading showLoading={showLoading} />\n\t\t</div>\n\t);\n};\n\nexport default UpdatePerfilCloseFriends;\n"]},"metadata":{},"sourceType":"module"}