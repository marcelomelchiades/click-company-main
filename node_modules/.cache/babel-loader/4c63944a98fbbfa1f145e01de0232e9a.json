{"ast":null,"code":"import _slicedToArray from\"/home/clickc/www/click-company-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import axios from'axios';import React,{useState}from'react';import{Link}from'react-router-dom';import{toast}from'react-toastify';import{useRecoilValue}from'recoil';import Loading from'../../components/Loading/Loading';import{endpointState,fotosKyc}from'../../recoil/atoms';var DocumentsFrontSelfieConfirmation=function DocumentsFrontSelfieConfirmation(_ref){var history=_ref.history;var _useRecoilValue=useRecoilValue(fotosKyc),documentSelfie=_useRecoilValue.documentSelfie,documentFront=_useRecoilValue.documentFront,documentBack=_useRecoilValue.documentBack,documentSelfieTemporaryUrl=_useRecoilValue.documentSelfieTemporaryUrl;var _useRecoilValue2=useRecoilValue(endpointState),urlEndpoint=_useRecoilValue2.urlEndpoint;var urlEndpointKyc=\"\".concat(urlEndpoint,\"/api/account/kyc/send\");var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showLoading=_useState2[0],setShowLoading=_useState2[1];var handleCadastrar=function handleCadastrar(e){e.preventDefault();var token=localStorage.getItem('token');var formData=new FormData();formData.append('front',documentFront);formData.append('verse',documentBack);formData.append('selfie',documentSelfie);setShowLoading(true);axios.post(urlEndpointKyc,formData,{headers:{Authorization:\"Bearer \".concat(token),'Content-Type':'multipart/form-data'}}).then(function(response){localStorage.setItem('kyc','pending');if(response.status===201){history.push('/documents-final');}setShowLoading(false);}).catch(function(error){toast.error('Erro ao tentar enviar os documentos, por favor tente novamente mais tarde.',{position:'bottom-right',autoClose:3000,hideProgressBar:true,closeOnClick:false,pauseOnHover:true,draggable:false,progress:undefined});setShowLoading(false);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cabecalho-register text-center\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Anunciar servi\\xE7os\",/*#__PURE__*/_jsx(Link,{to:'/login',className:\"float-right\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 px-20px\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-color-413872 font-size-17px font-semibold\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\xD3timo! Se achar preciso pode Tirar outra foto\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center my-4\",children:/*#__PURE__*/_jsx(\"img\",{src:documentSelfieTemporaryUrl,className:\"inline-block\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center btn-confirmar-documents\",children:/*#__PURE__*/_jsx(Link,{to:'/documents-front-selfie',className:\"block w-full p-2 rounded-full text-center border-2 bg-white border-color-FF4767 text-color-FF4767\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-17px\",children:\"Tirar outra Foto\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center btn-confirmar-documents\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleCadastrar,className:\"block w-full p-2 rounded-full text-center border-2 border-color-FF4767 background-color-FF4767 text-white\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-17px\",children:\"Continuar\"})})})]})]}),/*#__PURE__*/_jsx(Loading,{showLoading:showLoading})]});};export default DocumentsFrontSelfieConfirmation;","map":{"version":3,"sources":["/home/clickc/www/click-company-main/src/pages/Register/DocumentsFrontSelfieConfirmation.tsx"],"names":["axios","React","useState","Link","toast","useRecoilValue","Loading","endpointState","fotosKyc","DocumentsFrontSelfieConfirmation","history","documentSelfie","documentFront","documentBack","documentSelfieTemporaryUrl","urlEndpoint","urlEndpointKyc","showLoading","setShowLoading","handleCadastrar","e","preventDefault","token","localStorage","getItem","formData","FormData","append","post","headers","Authorization","then","response","setItem","status","push","catch","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { useState } from 'react';\nimport { Link, RouteComponentProps } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { useRecoilValue } from 'recoil';\nimport Loading from '../../components/Loading/Loading';\n\nimport { endpointState, fotosKyc } from '../../recoil/atoms';\n\nconst DocumentsFrontSelfieConfirmation: React.FC<RouteComponentProps> = ({\n\thistory,\n}) => {\n\ttype typeResponseAxios = {\n\t\t[key: string]: any;\n\t};\n\n\tconst {\n\t\tdocumentSelfie,\n\t\tdocumentFront,\n\t\tdocumentBack,\n\t\tdocumentSelfieTemporaryUrl,\n\t} = useRecoilValue(fotosKyc);\n\n\tconst { urlEndpoint } = useRecoilValue(endpointState);\n\tconst urlEndpointKyc = `${urlEndpoint}/api/account/kyc/send`;\n\n\tconst [showLoading, setShowLoading] = useState(false);\n\n\tconst handleCadastrar = (e: any) => {\n\t\te.preventDefault();\n\n\t\tconst token = localStorage.getItem('token');\n\n\t\tconst formData = new FormData();\n\n\t\tformData.append('front', documentFront);\n\t\tformData.append('verse', documentBack);\n\t\tformData.append('selfie', documentSelfie);\n\n\t\tsetShowLoading(true);\n\n\t\taxios\n\t\t\t.post(urlEndpointKyc, formData, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then(function (response: typeResponseAxios) {\n\t\t\t\tlocalStorage.setItem('kyc', 'pending');\n\t\t\t\tif (response.status === 201) {\n\t\t\t\t\thistory.push('/documents-final');\n\t\t\t\t}\n\n\t\t\t\tsetShowLoading(false);\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\ttoast.error(\n\t\t\t\t\t'Erro ao tentar enviar os documentos, por favor tente novamente mais tarde.',\n\t\t\t\t\t{\n\t\t\t\t\t\tposition: 'bottom-right',\n\t\t\t\t\t\tautoClose: 3000,\n\t\t\t\t\t\thideProgressBar: true,\n\t\t\t\t\t\tcloseOnClick: false,\n\t\t\t\t\t\tpauseOnHover: true,\n\t\t\t\t\t\tdraggable: false,\n\t\t\t\t\t\tprogress: undefined,\n\t\t\t\t\t},\n\t\t\t\t);\n\n\t\t\t\tsetShowLoading(false);\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"bg-white\">\n\t\t\t<div className=\"cabecalho-register text-center\">\n\t\t\t\t<p>\n\t\t\t\t\tAnunciar serviços\n\t\t\t\t\t<Link to={'/login'} className=\"float-right\">\n\t\t\t\t\t\t<i className=\"fas fa-times\" />\n\t\t\t\t\t</Link>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className=\"mt-4 px-20px\">\n\t\t\t\t<div className=\"text-center text-color-413872 font-size-17px font-semibold\">\n\t\t\t\t\t<p>Ótimo! Se achar preciso pode Tirar outra foto</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"text-center my-4\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={documentSelfieTemporaryUrl}\n\t\t\t\t\t\tclassName=\"inline-block\"\n\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4\">\n\t\t\t\t\t<div className=\"text-center btn-confirmar-documents\">\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={'/documents-front-selfie'}\n\t\t\t\t\t\t\tclassName=\"block w-full p-2 rounded-full text-center border-2 bg-white border-color-FF4767 text-color-FF4767\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<p className=\"text-17px\">Tirar outra Foto</p>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"text-center btn-confirmar-documents\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={handleCadastrar}\n\t\t\t\t\t\t\tclassName=\"block w-full p-2 rounded-full text-center border-2 border-color-FF4767 background-color-FF4767 text-white\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<p className=\"text-17px\">Continuar</p>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Loading showLoading={showLoading} />\n\t\t</div>\n\t);\n};\n\nexport default DocumentsFrontSelfieConfirmation;\n"]},"metadata":{},"sourceType":"module"}