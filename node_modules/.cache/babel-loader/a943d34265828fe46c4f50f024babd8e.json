{"ast":null,"code":"import _slicedToArray from\"/home/clickc/www/click-company-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import axios from'axios';import{Link}from'react-router-dom';import{Swiper,SwiperSlide}from'swiper/react';import'swiper/swiper-bundle.css';import{useRecoilValue}from'recoil';import{endpointState}from'../../recoil/atoms';import Logo from'../../components/Logo/Logo';import Loading from'../../components/Loading/Loading';import CategoriesCarousel from'../../components/CategoriesCarousel/CategoriesCarousel';var HomeCloseFriends=function HomeCloseFriends(_ref){var history=_ref.history;var _useRecoilValue=useRecoilValue(endpointState),urlEndpoint=_useRecoilValue.urlEndpoint,urlEndpointEstados=_useRecoilValue.urlEndpointEstados;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),showLoading=_useState2[0],setShowLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),estadoSelect=_useState4[0],setEstadoSelect=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),cidadeSelect=_useState6[0],setCidadeSelect=_useState6[1];var urlEndpointAcompanhantes=\"\".concat(urlEndpoint,\"/api/account/list/4\");var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),cardsAcompanhantes=_useState8[0],setCardsAcompanhantes=_useState8[1];var newCardsAcompanhantes=[];useEffect(function(){searchCloseState();},[]);var searchCloseState=function searchCloseState(){setCardsAcompanhantes([]);setShowLoading(true);axios.get(urlEndpointAcompanhantes,{params:{state:localStorage.getItem('estadoName')}}).then(function(response){if(response.data.data.length>0){response.data.data.forEach(function(profile,index){if(profile.profile!==null){var _profile$profile$midi,_profile$profile,_profile$profile$midi2,_profile$profile2,_profile$profile2$mid,_profile$profile3,_profile$profile3$mid,_profile$address,_profile$address2;var qtdVideos=0;var qtdImages=0;if(((_profile$profile$midi=profile.profile.midias)===null||_profile$profile$midi===void 0?void 0:_profile$profile$midi.length)>0){var midiasProfile=profile.profile.midias;midiasProfile.forEach(function(midia){if(midia.type==='image'){qtdImages+=1;}else if(midia.type==='video'){qtdVideos+=1;}});}newCardsAcompanhantes.push({id:profile.id,fotoDestaque:typeof((_profile$profile=profile.profile)===null||_profile$profile===void 0?void 0:(_profile$profile$midi2=_profile$profile.midias[0])===null||_profile$profile$midi2===void 0?void 0:_profile$profile$midi2.link['512'])!==typeof undefined?(_profile$profile2=profile.profile)===null||_profile$profile2===void 0?void 0:(_profile$profile2$mid=_profile$profile2.midias[0])===null||_profile$profile2$mid===void 0?void 0:_profile$profile2$mid.link['512']:(_profile$profile3=profile.profile)===null||_profile$profile3===void 0?void 0:(_profile$profile3$mid=_profile$profile3.midias[0])===null||_profile$profile3$mid===void 0?void 0:_profile$profile3$mid.link['50'],premium:'Premium',basico:'Basico',nome:profile.profile.nickname,idade:profile.profile.age,cidade:(_profile$address=profile.address)===null||_profile$address===void 0?void 0:_profile$address.city,estado:(_profile$address2=profile.address)===null||_profile$address2===void 0?void 0:_profile$address2.state,sexo:profile.profile.gender,qtdFotos:qtdImages.toString(),qtdVideos:qtdVideos.toString(),price:\"R$ \".concat(profile.profile.price.toFixed(2).replace('.',','))});}});// console.log(newCardsAcompanhantes);\nsetCardsAcompanhantes(newCardsAcompanhantes);setShowLoading(false);}else{setShowLoading(false);}});setSelectsAxiosIbge('estados');if(localStorage.getItem('estado')===null){localStorage.setItem('estado','33');}};var setSelectsAxiosIbge=function setSelectsAxiosIbge(){var tipoEstadoCidade=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'estados';var idEstado=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'33';var url={estados:urlEndpointEstados,cidades:\"\".concat(urlEndpointEstados).concat(idEstado,\"/municipios\")};var setSelect={estados:setEstadoSelect,cidades:setCidadeSelect};var orderByName={estados:'sigla',cidades:'nome'};axios.get(url[tipoEstadoCidade],{}).then(function(response){if(response.data.length>0){var newValue=[];var cidadesEstados=response.data.sort(function(a,b){return a[orderByName[tipoEstadoCidade]]>b[orderByName[tipoEstadoCidade]]?1:-1;});response.data.forEach(function(element){if(tipoEstadoCidade==='estados'){if(element.id===33){newValue.push({label:element[orderByName[tipoEstadoCidade]],value:element.id});}}else{newValue.push({label:element[orderByName[tipoEstadoCidade]],value:element.id});}});setSelect[tipoEstadoCidade]([]);setSelect[tipoEstadoCidade](newValue);}else{setSelect[tipoEstadoCidade]([]);}});};function handleLogin(){var isLogged=localStorage.getItem('token');if(isLogged){history.push('/perfil');}else{history.push('/login-with-account');}}return/*#__PURE__*/_jsxs(\"div\",{className:\"background-color-413872\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"padding-sides-20px relative text-center py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{role:\"button\",tabIndex:0,onClick:handleLogin,onKeyDown:handleLogin,className:\"icone-user-with-menu\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"icone-user\",children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-user\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"icone-menu\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-bars\"})})]}),/*#__PURE__*/_jsx(Logo,{logoType:'white horizontal',classes:'inline w-200px'}),/*#__PURE__*/_jsx(\"div\",{className:\"search-menu\",children:/*#__PURE__*/_jsx(\"div\",{className:\"icone-search\",children:/*#__PURE__*/_jsx(\"select\",{name:\"estado\",id:\"estado\",onChange:function onChange(event){localStorage.setItem('estado',event.target.value);localStorage.setItem('estadoName',event.target.options[event.target.selectedIndex].text);searchCloseState();},children:estadoSelect.map(function(state){var _localStorage$getItem;return/*#__PURE__*/_jsx(\"option\",{value:state.value,selected:((_localStorage$getItem=localStorage.getItem('estado'))===null||_localStorage$getItem===void 0?void 0:_localStorage$getItem.toString())===state.value.toString(),children:state.label});})})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"padding-sides-20px background-companions pt-2 pb-6\",children:[/*#__PURE__*/_jsx(CategoriesCarousel,{}),/*#__PURE__*/_jsx(Link,{to:'/search-companions',children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full p-2 rounded-full chamada-parceiro pesquisa\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-botao-parceiro\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Pesquisar\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"py-2\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold\",children:[\"Close Friends\",cardsAcompanhantes.length===0?'':/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"a\",{className:\"float-right font-light text-color-FF4767\",style:{cursor:'pointer'},href:\"listing/5/Close-friends\",rel:\"noreferrer noopener\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"ver tudo \"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chevron-right\"})]})})]})}),/*#__PURE__*/_jsx(Loading,{showLoading:showLoading,className:\"loading-center\"}),showLoading===true?'':/*#__PURE__*/_jsx(\"div\",{children:cardsAcompanhantes.length===0?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Em breve novos close friends\"})}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"tipo-plano\",children:\"Premium\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"py-2\",children:/*#__PURE__*/_jsx(Swiper,{freeMode:true,spaceBetween:15,slidesPerView:1.3,children:cardsAcompanhantes.map(function(acompanhante){return/*#__PURE__*/_jsx(SwiperSlide,{children:/*#__PURE__*/_jsx(Link,{to:\"/perfil-user/\".concat(acompanhante.id),children:/*#__PURE__*/_jsxs(\"div\",{className:'card-acompanhante',children:[/*#__PURE__*/_jsx(\"div\",{className:\"foto-destaque-acompanhante\",children:/*#__PURE__*/_jsx(\"img\",{src:acompanhante.fotoDestaque,alt:\"Foto Acompanhante\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2 card-infos-acompanhante\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-info-1-acompanhante\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-nome-idade-acompanhante\",children:\"\".concat(acompanhante.nome,\", \").concat(acompanhante.idade)}),/*#__PURE__*/_jsx(\"p\",{children:\"\".concat(acompanhante.cidade,\" - \").concat(acompanhante.estado)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-info-2-acompanhante text-right\",children:[/*#__PURE__*/_jsx(\"p\",{children:acompanhante.sexo}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-camera\"}),\" \".concat(acompanhante.qtdFotos,\" \"),/*#__PURE__*/_jsx(\"i\",{className:\"far fa-play-circle\"}),\" \".concat(acompanhante.qtdVideos)]})]})]})]})})});})})})]})})]})]});};export default HomeCloseFriends;","map":{"version":3,"sources":["/home/clickc/www/click-company-main/src/pages/Home/HomeCloseFriends.tsx"],"names":["React","useEffect","useState","axios","Link","Swiper","SwiperSlide","useRecoilValue","endpointState","Logo","Loading","CategoriesCarousel","HomeCloseFriends","history","urlEndpoint","urlEndpointEstados","showLoading","setShowLoading","estadoSelect","setEstadoSelect","cidadeSelect","setCidadeSelect","urlEndpointAcompanhantes","cardsAcompanhantes","setCardsAcompanhantes","newCardsAcompanhantes","searchCloseState","get","params","state","localStorage","getItem","then","response","data","length","forEach","profile","index","qtdVideos","qtdImages","midias","midiasProfile","midia","type","push","id","fotoDestaque","link","undefined","premium","basico","nome","nickname","idade","age","cidade","address","city","estado","sexo","gender","qtdFotos","toString","price","toFixed","replace","setSelectsAxiosIbge","setItem","tipoEstadoCidade","idEstado","url","estados","cidades","setSelect","orderByName","newValue","cidadesEstados","sort","a","b","element","label","value","handleLogin","isLogged","event","target","options","selectedIndex","text","map","cursor","acompanhante"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Link, RouteComponentProps } from 'react-router-dom';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport 'swiper/swiper-bundle.css';\nimport { useRecoilValue } from 'recoil';\nimport { endpointState } from '../../recoil/atoms';\nimport Input from '../../components/Input/Input';\n\nimport Logo from '../../components/Logo/Logo';\nimport Loading from '../../components/Loading/Loading';\nimport CampaignsCarousel from '../../components/CampaignsCarousel/CampaignsCarousel';\nimport CategoriesCarousel from '../../components/CategoriesCarousel/CategoriesCarousel';\n\nconst HomeCloseFriends: React.FC<RouteComponentProps> = ({ history }) => {\n\ttype typeResponseAxios = {\n\t\t[key: string]: any;\n\t};\n\n\ttype selectValues = {\n\t\tlabel: string;\n\t\tvalue: string;\n\t}[];\n\n\ttype typeCardsAcompanhantes = {\n\t\tid: string;\n\t\tfotoDestaque: string;\n\t\tpremium: string;\n\t\tbasico: string;\n\t\tnome: string;\n\t\tidade: string;\n\t\tcidade: string;\n\t\testado: string;\n\t\tsexo: string;\n\t\tqtdFotos: string;\n\t\tqtdVideos: string;\n\t\tprice: string;\n\t}[];\n\n\tconst { urlEndpoint, urlEndpointEstados } = useRecoilValue(endpointState);\n\n\tconst [showLoading, setShowLoading] = useState(true);\n\tconst [estadoSelect, setEstadoSelect] = useState<selectValues>([]);\n\tconst [cidadeSelect, setCidadeSelect] = useState<selectValues>([]);\n\n\tconst urlEndpointAcompanhantes = `${urlEndpoint}/api/account/list/4`;\n\n\tconst [cardsAcompanhantes, setCardsAcompanhantes] =\n\t\tuseState<typeCardsAcompanhantes>([]);\n\n\tconst newCardsAcompanhantes: typeCardsAcompanhantes = [];\n\n\tuseEffect(() => {\n\t\tsearchCloseState();\n\t}, []);\n\n\tconst searchCloseState = () => {\n\t\tsetCardsAcompanhantes([]);\n\t\tsetShowLoading(true);\n\t\taxios\n\t\t\t.get(urlEndpointAcompanhantes, {\n\t\t\t\tparams: {\n\t\t\t\t\tstate: localStorage.getItem('estadoName'),\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then(function (response: typeResponseAxios) {\n\t\t\t\tif (response.data.data.length > 0) {\n\t\t\t\t\tresponse.data.data.forEach((profile: any, index: number) => {\n\t\t\t\t\t\tif (profile.profile !== null) {\n\t\t\t\t\t\t\tlet qtdVideos = 0;\n\t\t\t\t\t\t\tlet qtdImages = 0;\n\n\t\t\t\t\t\t\tif (profile.profile.midias?.length > 0) {\n\t\t\t\t\t\t\t\tconst midiasProfile = profile.profile.midias;\n\n\t\t\t\t\t\t\t\tmidiasProfile.forEach((midia: any) => {\n\t\t\t\t\t\t\t\t\tif (midia.type === 'image') {\n\t\t\t\t\t\t\t\t\t\tqtdImages += 1;\n\t\t\t\t\t\t\t\t\t} else if (midia.type === 'video') {\n\t\t\t\t\t\t\t\t\t\tqtdVideos += 1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tnewCardsAcompanhantes.push({\n\t\t\t\t\t\t\t\tid: profile.id,\n\t\t\t\t\t\t\t\tfotoDestaque:\n\t\t\t\t\t\t\t\t\ttypeof profile.profile?.midias[0]?.link['512'] !==\n\t\t\t\t\t\t\t\t\ttypeof undefined\n\t\t\t\t\t\t\t\t\t\t? profile.profile?.midias[0]?.link['512']\n\t\t\t\t\t\t\t\t\t\t: profile.profile?.midias[0]?.link['50'],\n\t\t\t\t\t\t\t\tpremium: 'Premium',\n\t\t\t\t\t\t\t\tbasico: 'Basico',\n\t\t\t\t\t\t\t\tnome: profile.profile.nickname,\n\t\t\t\t\t\t\t\tidade: profile.profile.age,\n\t\t\t\t\t\t\t\tcidade: profile.address?.city,\n\t\t\t\t\t\t\t\testado: profile.address?.state,\n\t\t\t\t\t\t\t\tsexo: profile.profile.gender,\n\t\t\t\t\t\t\t\tqtdFotos: qtdImages.toString(),\n\t\t\t\t\t\t\t\tqtdVideos: qtdVideos.toString(),\n\t\t\t\t\t\t\t\tprice: `R$ ${profile.profile.price\n\t\t\t\t\t\t\t\t\t.toFixed(2)\n\t\t\t\t\t\t\t\t\t.replace('.', ',')}`,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t// console.log(newCardsAcompanhantes);\n\t\t\t\t\tsetCardsAcompanhantes(newCardsAcompanhantes);\n\t\t\t\t\tsetShowLoading(false);\n\t\t\t\t} else {\n\t\t\t\t\tsetShowLoading(false);\n\t\t\t\t}\n\t\t\t});\n\t\tsetSelectsAxiosIbge('estados');\n\t\tif (localStorage.getItem('estado') === null) {\n\t\t\tlocalStorage.setItem('estado', '33');\n\t\t}\n\t};\n\n\tconst setSelectsAxiosIbge = (\n\t\ttipoEstadoCidade: 'estados' | 'cidades' = 'estados',\n\t\tidEstado = '33',\n\t) => {\n\t\tconst url = {\n\t\t\testados: urlEndpointEstados,\n\t\t\tcidades: `${urlEndpointEstados}${idEstado}/municipios`,\n\t\t};\n\n\t\tconst setSelect = {\n\t\t\testados: setEstadoSelect,\n\t\t\tcidades: setCidadeSelect,\n\t\t};\n\n\t\tconst orderByName = {\n\t\t\testados: 'sigla',\n\t\t\tcidades: 'nome',\n\t\t};\n\n\t\taxios\n\t\t\t.get(url[tipoEstadoCidade], {})\n\t\t\t.then(function (response: typeResponseAxios) {\n\t\t\t\tif (response.data.length > 0) {\n\t\t\t\t\tconst newValue: selectValues = [];\n\n\t\t\t\t\tconst cidadesEstados = response.data.sort((a: any, b: any) =>\n\t\t\t\t\t\ta[orderByName[tipoEstadoCidade]] > b[orderByName[tipoEstadoCidade]]\n\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t: -1,\n\t\t\t\t\t);\n\n\t\t\t\t\tresponse.data.forEach((element: any) => {\n\t\t\t\t\t\tif (tipoEstadoCidade === 'estados') {\n\t\t\t\t\t\t\tif (element.id === 33) {\n\t\t\t\t\t\t\t\tnewValue.push({\n\t\t\t\t\t\t\t\t\tlabel: element[orderByName[tipoEstadoCidade]],\n\t\t\t\t\t\t\t\t\tvalue: element.id,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnewValue.push({\n\t\t\t\t\t\t\t\tlabel: element[orderByName[tipoEstadoCidade]],\n\t\t\t\t\t\t\t\tvalue: element.id,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tsetSelect[tipoEstadoCidade]([]);\n\t\t\t\t\tsetSelect[tipoEstadoCidade](newValue);\n\t\t\t\t} else {\n\t\t\t\t\tsetSelect[tipoEstadoCidade]([]);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tfunction handleLogin() {\n\t\tconst isLogged = localStorage.getItem('token');\n\t\tif (isLogged) {\n\t\t\thistory.push('/perfil');\n\t\t} else {\n\t\t\thistory.push('/login-with-account');\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"background-color-413872\">\n\t\t\t<div className=\"padding-sides-20px relative text-center py-4\">\n\t\t\t\t<div\n\t\t\t\t\trole=\"button\"\n\t\t\t\t\ttabIndex={0}\n\t\t\t\t\tonClick={handleLogin}\n\t\t\t\t\tonKeyDown={handleLogin}\n\t\t\t\t\tclassName=\"icone-user-with-menu\"\n\t\t\t\t>\n\t\t\t\t\t<div className=\"icone-user\">\n\t\t\t\t\t\t<i className=\"far fa-user\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"icone-menu\">\n\t\t\t\t\t\t<i className=\"fas fa-bars\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<Logo logoType={'white horizontal'} classes={'inline w-200px'} />\n\n\t\t\t\t<div className=\"search-menu\">\n\t\t\t\t\t<div className=\"icone-search\">\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tname=\"estado\"\n\t\t\t\t\t\t\tid=\"estado\"\n\t\t\t\t\t\t\tonChange={(event: any) => {\n\t\t\t\t\t\t\t\tlocalStorage.setItem('estado', event.target.value);\n\t\t\t\t\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\t\t\t\t\t'estadoName',\n\t\t\t\t\t\t\t\t\tevent.target.options[event.target.selectedIndex].text,\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tsearchCloseState();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{estadoSelect.map(state => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\tvalue={state.value}\n\t\t\t\t\t\t\t\t\t\tselected={\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem('estado')?.toString() ===\n\t\t\t\t\t\t\t\t\t\t\tstate.value.toString()\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{state.label}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"padding-sides-20px background-companions pt-2 pb-6\">\n\t\t\t\t<CategoriesCarousel />\n\t\t\t\t<Link to={'/search-companions'}>\n\t\t\t\t\t<div className=\"w-full p-2 rounded-full chamada-parceiro pesquisa\">\n\t\t\t\t\t\t<div className=\"container-botao-parceiro\">\n\t\t\t\t\t\t\t<p>Pesquisar</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\t\t\t\t<div className=\"py-2\">\n\t\t\t\t\t<p className=\"font-bold\">\n\t\t\t\t\t\tClose Friends\n\t\t\t\t\t\t{cardsAcompanhantes.length === 0 ? (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tclassName=\"float-right font-light text-color-FF4767\"\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t\t\t\t\t\thref={`listing/5/Close-friends`}\n\t\t\t\t\t\t\t\t\trel=\"noreferrer noopener\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span>ver tudo </span>\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-chevron-right\" />\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<Loading showLoading={showLoading} className=\"loading-center\" />\n\t\t\t\t{showLoading === true ? (\n\t\t\t\t\t''\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{cardsAcompanhantes.length === 0 ? (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<h1>Em breve novos close friends</h1>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<p className=\"tipo-plano\">Premium</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"py-2\">\n\t\t\t\t\t\t\t\t\t<Swiper freeMode={true} spaceBetween={15} slidesPerView={1.3}>\n\t\t\t\t\t\t\t\t\t\t{cardsAcompanhantes.map(acompanhante => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<SwiperSlide>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/perfil-user/${acompanhante.id}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={'card-acompanhante'}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"foto-destaque-acompanhante\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={acompanhante.fotoDestaque}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"Foto Acompanhante\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-2 card-infos-acompanhante\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-info-1-acompanhante\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"card-nome-idade-acompanhante\">{`${acompanhante.nome}, ${acompanhante.idade}`}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{`${acompanhante.cidade} - ${acompanhante.estado}`}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>{acompanhante.price}</p> */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-info-2-acompanhante text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{acompanhante.sexo}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-camera\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{` ${acompanhante.qtdFotos} `}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"far fa-play-circle\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{` ${acompanhante.qtdVideos}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t</SwiperSlide>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</Swiper>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default HomeCloseFriends;\n"]},"metadata":{},"sourceType":"module"}