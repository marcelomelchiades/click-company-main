{"ast":null,"code":"import React from'react';import{Redirect,Route}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";var ProtectedRoute=function ProtectedRoute(_ref){var path=_ref.path,component=_ref.component,_ref$unprotected=_ref.unprotected,unprotected=_ref$unprotected===void 0?false:_ref$unprotected,_ref$exact=_ref.exact,exact=_ref$exact===void 0?false:_ref$exact;var youCanPass=localStorage.getItem('token')!==null;if(unprotected){youCanPass=!youCanPass;}return/*#__PURE__*/_jsx(Route,{exact:exact,path:path,component:youCanPass?component:undefined,render:function render(props){return youCanPass?undefined:/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}});};ProtectedRoute.defaultProps={unprotected:false,exact:false};export default ProtectedRoute;","map":{"version":3,"names":["React","Redirect","Route","jsx","_jsx","ProtectedRoute","_ref","path","component","_ref$unprotected","unprotected","_ref$exact","exact","youCanPass","localStorage","getItem","undefined","render","props","to","defaultProps"],"sources":["/home/clickc/www/click-company-main/src/components/ProtectedRoute/ProtectedRoute.tsx"],"sourcesContent":["import React, { Component, useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Redirect, Route, useLocation } from 'react-router-dom';\nimport { useRecoilState, useRecoilValue } from 'recoil';\n\ntype ProtectedRouteProps = {\n\tpath: string;\n\tcomponent: any;\n\tunprotected?: boolean;\n\texact?: boolean;\n};\n\nconst ProtectedRoute: React.FC<ProtectedRouteProps> = ({\n\tpath,\n\tcomponent,\n\tunprotected = false,\n\texact = false,\n}) => {\n\tlet youCanPass = localStorage.getItem('token') !== null;\n\n\tif (unprotected) {\n\t\tyouCanPass = !youCanPass;\n\t}\n\n\treturn (\n\t\t<Route\n\t\t\texact={exact}\n\t\t\tpath={path}\n\t\t\tcomponent={youCanPass ? component : undefined}\n\t\t\trender={props => (youCanPass ? undefined : <Redirect to=\"/login\" />)}\n\t\t/>\n\t);\n};\n\nProtectedRoute.defaultProps = {\n\tunprotected: false,\n\texact: false,\n};\n\nexport default ProtectedRoute;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAA0C,OAAO,CAE7D,OAASC,QAAQ,CAAEC,KAAK,KAAqB,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAUhE,GAAM,CAAAC,cAA6C,CAAG,QAAhD,CAAAA,cAA6CA,CAAAC,IAAA,CAK7C,IAJL,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CACJC,SAAS,CAAAF,IAAA,CAATE,SAAS,CAAAC,gBAAA,CAAAH,IAAA,CACTI,WAAW,CAAXA,WAAW,CAAAD,gBAAA,UAAG,KAAK,CAAAA,gBAAA,CAAAE,UAAA,CAAAL,IAAA,CACnBM,KAAK,CAALA,KAAK,CAAAD,UAAA,UAAG,KAAK,CAAAA,UAAA,CAEb,GAAI,CAAAE,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,GAAK,IAAI,CAEvD,GAAIL,WAAW,CAAE,CAChBG,UAAU,CAAG,CAACA,UAAU,CACzB,CAEA,mBACCT,IAAA,CAACF,KAAK,EACLU,KAAK,CAAEA,KAAM,CACbL,IAAI,CAAEA,IAAK,CACXC,SAAS,CAAEK,UAAU,CAAGL,SAAS,CAAGQ,SAAU,CAC9CC,MAAM,CAAE,SAAAA,OAAAC,KAAK,QAAK,CAAAL,UAAU,CAAGG,SAAS,cAAGZ,IAAA,CAACH,QAAQ,EAACkB,EAAE,CAAC,QAAQ,CAAE,CAAC,EAAE,CACrE,CAAC,CAEJ,CAAC,CAEDd,cAAc,CAACe,YAAY,CAAG,CAC7BV,WAAW,CAAE,KAAK,CAClBE,KAAK,CAAE,KACR,CAAC,CAED,cAAe,CAAAP,cAAc"},"metadata":{},"sourceType":"module"}