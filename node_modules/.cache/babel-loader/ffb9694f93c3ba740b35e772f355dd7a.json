{"ast":null,"code":"import _slicedToArray from\"/home/clickc/www/click-company-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useState}from'react';import{Link}from'react-router-dom';import{toast}from'react-toastify';import{useRecoilValue}from'recoil';import Loading from'../../components/Loading/Loading';import{endpointState,fotosKyc}from'../../recoil/atoms';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DocumentsFrontSelfieConfirmation=function DocumentsFrontSelfieConfirmation(_ref){var history=_ref.history;var _useRecoilValue=useRecoilValue(fotosKyc),documentSelfie=_useRecoilValue.documentSelfie,documentFront=_useRecoilValue.documentFront,documentBack=_useRecoilValue.documentBack,documentSelfieTemporaryUrl=_useRecoilValue.documentSelfieTemporaryUrl;var _useRecoilValue2=useRecoilValue(endpointState),urlEndpoint=_useRecoilValue2.urlEndpoint;var urlEndpointKyc=\"\".concat(urlEndpoint,\"/api/account/kyc/send\");var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showLoading=_useState2[0],setShowLoading=_useState2[1];var handleCadastrar=function handleCadastrar(e){e.preventDefault();var token=localStorage.getItem('token');var formData=new FormData();formData.append('front',documentFront);formData.append('verse',documentBack);formData.append('selfie',documentSelfie);setShowLoading(true);axios.post(urlEndpointKyc,formData,{headers:{Authorization:\"Bearer \".concat(token),'Content-Type':'multipart/form-data'}}).then(function(response){localStorage.setItem('kyc','pending');if(response.status===201){history.push('/documents-final');}setShowLoading(false);}).catch(function(error){toast.error('Erro ao tentar enviar os documentos, por favor tente novamente mais tarde.',{position:'bottom-right',autoClose:3000,hideProgressBar:true,closeOnClick:false,pauseOnHover:true,draggable:false,progress:undefined});setShowLoading(false);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cabecalho-register text-center\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Anunciar servi\\xE7os\",/*#__PURE__*/_jsx(Link,{to:'/login',className:\"float-right\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 px-20px\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-color-413872 font-size-17px font-semibold\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\xD3timo! Se achar preciso pode Tirar outra foto\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center my-4\",children:/*#__PURE__*/_jsx(\"img\",{src:documentSelfieTemporaryUrl,className:\"inline-block\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center btn-confirmar-documents\",children:/*#__PURE__*/_jsx(Link,{to:'/documents-front-selfie',className:\"block w-full p-2 rounded-full text-center border-2 bg-white border-color-FF4767 text-color-FF4767\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-17px\",children:\"Tirar outra Foto\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center btn-confirmar-documents\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleCadastrar,className:\"block w-full p-2 rounded-full text-center border-2 border-color-FF4767 background-color-FF4767 text-white\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-17px\",children:\"Continuar\"})})})]})]}),/*#__PURE__*/_jsx(Loading,{showLoading:showLoading})]});};export default DocumentsFrontSelfieConfirmation;","map":{"version":3,"names":["axios","React","useState","Link","toast","useRecoilValue","Loading","endpointState","fotosKyc","jsx","_jsx","jsxs","_jsxs","DocumentsFrontSelfieConfirmation","_ref","history","_useRecoilValue","documentSelfie","documentFront","documentBack","documentSelfieTemporaryUrl","_useRecoilValue2","urlEndpoint","urlEndpointKyc","concat","_useState","_useState2","_slicedToArray","showLoading","setShowLoading","handleCadastrar","e","preventDefault","token","localStorage","getItem","formData","FormData","append","post","headers","Authorization","then","response","setItem","status","push","catch","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","className","children","to","src","alt","type","onClick"],"sources":["/home/clickc/www/click-company-main/src/pages/Register/DocumentsFrontSelfieConfirmation.tsx"],"sourcesContent":["import axios from 'axios';\nimport React, { useState } from 'react';\nimport { Link, RouteComponentProps } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { useRecoilValue } from 'recoil';\nimport Loading from '../../components/Loading/Loading';\n\nimport { endpointState, fotosKyc } from '../../recoil/atoms';\n\nconst DocumentsFrontSelfieConfirmation: React.FC<RouteComponentProps> = ({\n\thistory,\n}) => {\n\ttype typeResponseAxios = {\n\t\t[key: string]: any;\n\t};\n\n\tconst {\n\t\tdocumentSelfie,\n\t\tdocumentFront,\n\t\tdocumentBack,\n\t\tdocumentSelfieTemporaryUrl,\n\t} = useRecoilValue(fotosKyc);\n\n\tconst { urlEndpoint } = useRecoilValue(endpointState);\n\tconst urlEndpointKyc = `${urlEndpoint}/api/account/kyc/send`;\n\n\tconst [showLoading, setShowLoading] = useState(false);\n\n\tconst handleCadastrar = (e: any) => {\n\t\te.preventDefault();\n\n\t\tconst token = localStorage.getItem('token');\n\n\t\tconst formData = new FormData();\n\n\t\tformData.append('front', documentFront);\n\t\tformData.append('verse', documentBack);\n\t\tformData.append('selfie', documentSelfie);\n\n\t\tsetShowLoading(true);\n\n\t\taxios\n\t\t\t.post(urlEndpointKyc, formData, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then(function (response: typeResponseAxios) {\n\t\t\t\tlocalStorage.setItem('kyc', 'pending');\n\t\t\t\tif (response.status === 201) {\n\t\t\t\t\thistory.push('/documents-final');\n\t\t\t\t}\n\n\t\t\t\tsetShowLoading(false);\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\ttoast.error(\n\t\t\t\t\t'Erro ao tentar enviar os documentos, por favor tente novamente mais tarde.',\n\t\t\t\t\t{\n\t\t\t\t\t\tposition: 'bottom-right',\n\t\t\t\t\t\tautoClose: 3000,\n\t\t\t\t\t\thideProgressBar: true,\n\t\t\t\t\t\tcloseOnClick: false,\n\t\t\t\t\t\tpauseOnHover: true,\n\t\t\t\t\t\tdraggable: false,\n\t\t\t\t\t\tprogress: undefined,\n\t\t\t\t\t},\n\t\t\t\t);\n\n\t\t\t\tsetShowLoading(false);\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"bg-white\">\n\t\t\t<div className=\"cabecalho-register text-center\">\n\t\t\t\t<p>\n\t\t\t\t\tAnunciar serviços\n\t\t\t\t\t<Link to={'/login'} className=\"float-right\">\n\t\t\t\t\t\t<i className=\"fas fa-times\" />\n\t\t\t\t\t</Link>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className=\"mt-4 px-20px\">\n\t\t\t\t<div className=\"text-center text-color-413872 font-size-17px font-semibold\">\n\t\t\t\t\t<p>Ótimo! Se achar preciso pode Tirar outra foto</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"text-center my-4\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={documentSelfieTemporaryUrl}\n\t\t\t\t\t\tclassName=\"inline-block\"\n\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4\">\n\t\t\t\t\t<div className=\"text-center btn-confirmar-documents\">\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={'/documents-front-selfie'}\n\t\t\t\t\t\t\tclassName=\"block w-full p-2 rounded-full text-center border-2 bg-white border-color-FF4767 text-color-FF4767\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<p className=\"text-17px\">Tirar outra Foto</p>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"text-center btn-confirmar-documents\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={handleCadastrar}\n\t\t\t\t\t\t\tclassName=\"block w-full p-2 rounded-full text-center border-2 border-color-FF4767 background-color-FF4767 text-white\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<p className=\"text-17px\">Continuar</p>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Loading showLoading={showLoading} />\n\t\t</div>\n\t);\n};\n\nexport default DocumentsFrontSelfieConfirmation;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}