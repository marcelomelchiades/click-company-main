{"ast":null,"code":"import _slicedToArray from\"/home/clickc/www/click-company-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import axios from'axios';import React,{useState}from'react';import{Link}from'react-router-dom';import{useRecoilValue}from'recoil';import Input from'../../components/Input/Input';import Logo from'../../components/Logo/Logo';import{endpointState}from'../../recoil/atoms';import Loading from'../../components/Loading/Loading';var Reset=function Reset(_ref){var history=_ref.history;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),errorMessageEmail=_useState6[0],setErrorMessageEmail=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),errorMessagePassword=_useState8[0],setMessagePassword=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),errorLogin=_useState10[0],setErrorLogin=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showLoading=_useState12[0],setShowLoading=_useState12[1];var emailIsValid;var passwordIsValid;var _useRecoilValue=useRecoilValue(endpointState),urlEndpoint=_useRecoilValue.urlEndpoint;var urlEndpointLogin=\"\".concat(urlEndpoint,\"/api/password/forgot-password\");var urlAccount=\"\".concat(urlEndpoint,\"/api/account\");function loginAccount(){checkInputEmail(email);if(emailIsValid){setShowLoading(true);axios.post(urlEndpointLogin,{'email':email}).then(function(response){setShowLoading(false);window.alert(\"E-mail enviado com sucesso!\");}).catch(function(error){setErrorLogin('E-mail inválido');setShowLoading(false);});}}function handleEmail(event){setEmail(event.target.value);}function handlePassword(event){setPassword(event.target.value);}function checkInputEmail(element){if(!validateEmail(element)||element===''){setErrorMessageEmail('E-mail inváldio');emailIsValid=false;}else if(validateEmail(element)){setErrorMessageEmail('');emailIsValid=true;}}function validateEmail(emailTest){var re=// eslint-disable-next-line\n/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;return re.test(emailTest);}function checkPassword(element){if(element.length<6||element===''){setMessagePassword('Senha inválida');passwordIsValid=false;}else{setMessagePassword('');passwordIsValid=true;}}function loginEnter(event){if(event.key==='Enter'){loginAccount();}}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"background-color-413872\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center logo-login-has-account pt-8 pb-14\",children:/*#__PURE__*/_jsx(Logo,{logoType:'white vertical',classes:'inline'})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"body-register\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 text-center\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"descricao-home font-semibold text-color-413872\",children:\"Preencha o formul\\xE1rio abaixo para resetar sua senha\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/_jsx(Input,{name:'email_user',type:'email',placeholder:'E-mail',value:email,onChange:function onChange(event){return handleEmail(event);},onKeyPress:function onKeyPress(event){return loginEnter(event);}}),/*#__PURE__*/_jsx(\"span\",{className:\"ErrorLogin\",children:errorMessageEmail})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"ErrorLogin\",children:errorLogin})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-12\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"text-17px block w-full p-2 rounded-full text-center background-color-FF4767 text-white\",onClick:function onClick(){return loginAccount();},onKeyDown:function onKeyDown(){return loginAccount();},children:\"Resetar\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"font-size-13px text-color-413872 \",children:/*#__PURE__*/_jsx(Link,{to:'/login',className:\"descricao-campo-checkbox-mobile\",children:\"Voltar\"})})})]}),/*#__PURE__*/_jsx(Loading,{showLoading:showLoading})]});};export default Reset;","map":{"version":3,"sources":["/home/clickc/www/click-company-main/src/pages/Reset/Reset.tsx"],"names":["axios","React","useState","Link","useRecoilValue","Input","Logo","endpointState","Loading","Reset","history","email","setEmail","password","setPassword","errorMessageEmail","setErrorMessageEmail","errorMessagePassword","setMessagePassword","errorLogin","setErrorLogin","showLoading","setShowLoading","emailIsValid","passwordIsValid","urlEndpoint","urlEndpointLogin","urlAccount","loginAccount","checkInputEmail","post","then","response","window","alert","catch","error","handleEmail","event","target","value","handlePassword","element","validateEmail","emailTest","re","test","checkPassword","length","loginEnter","key"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { useState } from 'react';\nimport { Link, RouteComponentProps } from 'react-router-dom';\nimport { handleInputChange } from 'react-select/src/utils';\nimport { useRecoilValue } from 'recoil';\nimport Input from '../../components/Input/Input';\n\nimport Logo from '../../components/Logo/Logo';\nimport { endpointState } from '../../recoil/atoms';\nimport Loading from '../../components/Loading/Loading';\n\nconst Reset: React.FC<RouteComponentProps> = ({ history }) => {\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\n\tconst [errorMessageEmail, setErrorMessageEmail] = useState('');\n\tconst [errorMessagePassword, setMessagePassword] = useState('');\n\tconst [errorLogin, setErrorLogin] = useState('');\n\tconst [showLoading, setShowLoading] = useState(false);\n\n\tlet emailIsValid: boolean;\n\tlet passwordIsValid: boolean;\n\n\tconst { urlEndpoint } = useRecoilValue(endpointState);\n\n\tconst urlEndpointLogin = `${urlEndpoint}/api/password/forgot-password`;\n\tconst urlAccount = `${urlEndpoint}/api/account`;\n\n\tfunction loginAccount() {\n\t\tcheckInputEmail(email);\n\n\t\tif (emailIsValid) {\n\t\t\tsetShowLoading(true);\n\t\t\taxios\n\t\t\t\t.post(urlEndpointLogin, {\n\t\t\t\t\t'email': email,\n\t\t\t\t})\n\t\t\t\t.then(response => {\n\t\t\t\t\tsetShowLoading(false);\n\t\t\t\t\twindow.alert(\"E-mail enviado com sucesso!\");\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetErrorLogin('E-mail inválido');\n\t\t\t\t\tsetShowLoading(false);\n\t\t\t\t});\n\t\t}\n\t}\n\n\tfunction handleEmail(event: any) {\n\t\tsetEmail(event.target.value);\n\t}\n\n\tfunction handlePassword(event: any) {\n\t\tsetPassword(event.target.value);\n\t}\n\n\tfunction checkInputEmail(element: string) {\n\t\tif (!validateEmail(element) || element === '') {\n\t\t\tsetErrorMessageEmail('E-mail inváldio');\n\n\t\t\temailIsValid = false;\n\t\t} else if (validateEmail(element)) {\n\t\t\tsetErrorMessageEmail('');\n\n\t\t\temailIsValid = true;\n\t\t}\n\t}\n\n\tfunction validateEmail(emailTest: string) {\n\t\tconst re =\n\t\t\t// eslint-disable-next-line\n\t\t\t/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t\treturn re.test(emailTest);\n\t}\n\n\tfunction checkPassword(element: string) {\n\t\tif (element.length < 6 || element === '') {\n\t\t\tsetMessagePassword('Senha inválida');\n\n\t\t\tpasswordIsValid = false;\n\t\t} else {\n\t\t\tsetMessagePassword('');\n\n\t\t\tpasswordIsValid = true;\n\t\t}\n\t}\n\n\tfunction loginEnter(event: any) {\n\t\tif (event.key === 'Enter') {\n\t\t\tloginAccount();\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"background-color-413872\">\n\t\t\t\t<div className=\"text-center logo-login-has-account pt-8 pb-14\">\n\t\t\t\t\t<Logo logoType={'white vertical'} classes={'inline'} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"body-register\">\n\t\t\t\t<div className=\"mt-8 text-center\">\n\t\t\t\t\t<h2 className=\"descricao-home font-semibold text-color-413872\">\n\t\t\t\t\t\tPreencha o formulário abaixo para resetar sua senha\n\t\t\t\t\t</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"mt-8\">\n\t\t\t\t\t<Input\n\t\t\t\t\t\tname={'email_user'}\n\t\t\t\t\t\ttype={'email'}\n\t\t\t\t\t\tplaceholder={'E-mail'}\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\tonChange={(event: any) => handleEmail(event)}\n\t\t\t\t\t\tonKeyPress={(event: any) => loginEnter(event)}\n\t\t\t\t\t/>\n\t\t\t\t\t<span className=\"ErrorLogin\">{errorMessageEmail}</span>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<span className=\"ErrorLogin\">{errorLogin}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"mt-12\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"text-17px block w-full p-2 rounded-full text-center background-color-FF4767 text-white\"\n\t\t\t\t\t\tonClick={() => loginAccount()}\n\t\t\t\t\t\tonKeyDown={() => loginAccount()}\n\t\t\t\t\t>\n\t\t\t\t\t\tResetar\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"mt-8 text-center\">\n\t\t\t\t\t<p className=\"font-size-13px text-color-413872 \">\n\t\t\t\t\t\t<Link to={'/login'} className=\"descricao-campo-checkbox-mobile\">\n\t\t\t\t\t\t\tVoltar\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Loading showLoading={showLoading} />\n\t\t</div>\n\t);\n};\n\nexport default Reset;\n"]},"metadata":{},"sourceType":"module"}