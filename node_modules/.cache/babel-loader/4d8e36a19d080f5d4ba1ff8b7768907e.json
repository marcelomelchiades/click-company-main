{"ast":null,"code":"import _slicedToArray from\"/home/clickc/www/click-company-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import axios from'axios';import{Link}from'react-router-dom';import{Swiper,SwiperSlide}from'swiper/react';import'swiper/swiper-bundle.css';import{useRecoilValue}from'recoil';import{endpointState}from'../../recoil/atoms';import Loading from'../Loading/Loading';var CampaignsCarousel=function CampaignsCarousel(){var _useRecoilValue=useRecoilValue(endpointState),urlEndpoint=_useRecoilValue.urlEndpoint;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),showLoading=_useState2[0],setShowLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cardsCampaigns=_useState4[0],setCardsCampaigns=_useState4[1];var urlEndpointCampaigns=\"\".concat(urlEndpoint,\"/api/partner/campaign\");useEffect(function(){populateCampaings();},[]);var populateCampaings=function populateCampaings(){setCardsCampaigns([]);setShowLoading(true);axios.get(urlEndpointCampaigns,{params:{state:localStorage.getItem('estadoName')}}).then(function(response){if(response.data.data.length>0){var newCampaigns=[];response.data.data.forEach(function(campaignResponse){newCampaigns.push({img:campaignResponse.banner!==''?\"https://zapgrupos-bucket.s3.us-west-2.amazonaws.com/\".concat(campaignResponse.banner):'',url:campaignResponse.target_url});});setCardsCampaigns(newCampaigns);console.log(newCampaigns);}setShowLoading(false);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:'/register-partner',children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full p-2 rounded-full chamada-parceiro\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"text-white fas fa-money-bill-wave size-icon-money\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-botao-parceiro\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Seja um parceiro\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Anuncie aqui os seus servi\\xE7os\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"py-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"font-bold\",children:\"Parceiros\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"py-2\",children:[/*#__PURE__*/_jsx(Loading,{showLoading:showLoading,className:\"loading-center\"}),cardsCampaigns.length?/*#__PURE__*/_jsx(Swiper,{freeMode:true,spaceBetween:15,slidesPerView:1.3,children:cardsCampaigns.map(function(campaign){return/*#__PURE__*/_jsx(SwiperSlide,{className:\"w-full bg-white text-center swiper-slide-campaign\",children:campaign.url!==''?/*#__PURE__*/_jsx(\"a\",{href:campaign.url,target:\"_blank\",rel:\"noreferrer noopener\",children:/*#__PURE__*/_jsx(\"img\",{src:campaign.img,alt:\"\"})}):/*#__PURE__*/_jsx(\"img\",{src:campaign.img,alt:\"\"})});})}):null]})]});};export default CampaignsCarousel;","map":{"version":3,"sources":["/home/clickc/www/click-company-main/src/components/CampaignsCarousel/CampaignsCarousel.tsx"],"names":["React","useEffect","useState","axios","Link","Swiper","SwiperSlide","useRecoilValue","endpointState","Loading","CampaignsCarousel","urlEndpoint","showLoading","setShowLoading","cardsCampaigns","setCardsCampaigns","urlEndpointCampaigns","populateCampaings","get","params","state","localStorage","getItem","then","response","data","length","newCampaigns","forEach","campaignResponse","push","img","banner","url","target_url","console","log","map","campaign"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Link, RouteComponentProps } from 'react-router-dom';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport 'swiper/swiper-bundle.css';\nimport { useRecoilValue } from 'recoil';\nimport { endpointState } from '../../recoil/atoms';\nimport Loading from '../Loading/Loading';\n\nconst CampaignsCarousel: React.FC = () => {\n\ttype typeResponseAxios = {\n\t\t[key: string]: any;\n\t};\n\n\tconst { urlEndpoint } = useRecoilValue(endpointState);\n\n\tconst [showLoading, setShowLoading] = useState(true);\n\tconst [cardsCampaigns, setCardsCampaigns] = useState<any[]>([]);\n\n\tconst urlEndpointCampaigns = `${urlEndpoint}/api/partner/campaign`;\n\n\tuseEffect(() => {\n\t\tpopulateCampaings();\n\t}, []);\n\n\tconst populateCampaings = () => {\n\t\tsetCardsCampaigns([]);\n\t\tsetShowLoading(true);\n\n\t\taxios\n\t\t\t.get(urlEndpointCampaigns, {\n\t\t\t\tparams: {\n\t\t\t\t\tstate: localStorage.getItem('estadoName'),\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then(function (response: typeResponseAxios) {\n\t\t\t\tif (response.data.data.length > 0) {\n\t\t\t\t\tconst newCampaigns: any[] = [];\n\t\t\t\t\tresponse.data.data.forEach((campaignResponse: any) => {\n\t\t\t\t\t\tnewCampaigns.push({\n\t\t\t\t\t\t\timg:\n\t\t\t\t\t\t\t\tcampaignResponse.banner !== ''\n\t\t\t\t\t\t\t\t\t? `https://zapgrupos-bucket.s3.us-west-2.amazonaws.com/${campaignResponse.banner}`\n\t\t\t\t\t\t\t\t\t: '',\n\t\t\t\t\t\t\turl: campaignResponse.target_url,\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tsetCardsCampaigns(newCampaigns);\n\t\t\t\t\tconsole.log(newCampaigns);\n\t\t\t\t}\n\n\t\t\t\tsetShowLoading(false);\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Link to={'/register-partner'}>\n\t\t\t\t<div className=\"w-full p-2 rounded-full chamada-parceiro\">\n\t\t\t\t\t<i className=\"text-white fas fa-money-bill-wave size-icon-money\" />\n\t\t\t\t\t<div className=\"container-botao-parceiro\">\n\t\t\t\t\t\t<h1>Seja um parceiro</h1>\n\t\t\t\t\t\t<p>Anuncie aqui os seus servi√ßos</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Link>\n\t\t\t<div className=\"py-2\">\n\t\t\t\t<p className=\"font-bold\">Parceiros</p>\n\t\t\t</div>\n\t\t\t<div className=\"py-2\">\n\t\t\t\t<Loading showLoading={showLoading} className=\"loading-center\" />\n\t\t\t\t{cardsCampaigns.length ? (\n\t\t\t\t\t<Swiper freeMode={true} spaceBetween={15} slidesPerView={1.3}>\n\t\t\t\t\t\t{cardsCampaigns.map(campaign => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<SwiperSlide className=\"w-full bg-white text-center swiper-slide-campaign\">\n\t\t\t\t\t\t\t\t\t{campaign.url !== '' ? (\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref={campaign.url}\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\trel=\"noreferrer noopener\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<img src={campaign.img} alt=\"\" />\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<img src={campaign.img} alt=\"\" />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</SwiperSlide>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Swiper>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default CampaignsCarousel;\n"]},"metadata":{},"sourceType":"module"}