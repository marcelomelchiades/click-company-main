{"ast":null,"code":"import _slicedToArray from\"/home/clickc/www/click-company-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import axios from'axios';import React,{useEffect,useState}from'react';import{Link,useHistory,useParams}from'react-router-dom';import{useRecoilValue}from'recoil';import{endpointState}from'../../recoil/atoms';var Partners=function Partners(){var params=useParams();var history=useHistory();var _useRecoilValue=useRecoilValue(endpointState),urlEndpoint=_useRecoilValue.urlEndpoint;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),partners=_useState2[0],setPartners=_useState2[1];var urlEndpointCampaigns=\"\".concat(urlEndpoint,\"/api/partner/campaign\");useEffect(function(){axios.get(urlEndpointCampaigns,{params:{state:localStorage.getItem('estadoName'),category_id:params.id,distinct:'true'}}).then(function(response){if(response.data.data.length>0){var data=[];response.data.data.forEach(function(campaignResponse){data.push({img:campaignResponse.banner!==''?\"https://zapgrupos-bucket.s3.us-west-2.amazonaws.com/\".concat(campaignResponse.banner):'',title:campaignResponse.title,url:campaignResponse.target_url,id:campaignResponse.id,user_id:campaignResponse.user_id});});setPartners(data);}});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cabecalho-register text-center bg-white\",children:/*#__PURE__*/_jsxs(\"p\",{children:[params===null||params===void 0?void 0:params.name,/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){history.goBack();},className:\"float-right\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"body-perfil\",children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'row',flexWrap:'wrap'},children:partners.map(function(partner){return/*#__PURE__*/_jsx(\"div\",{style:{padding:5,width:'50%',boxSizing:'border-box'},children:/*#__PURE__*/_jsx(Link,{to:\"/perfil-partner/\".concat(partner.user_id),children:/*#__PURE__*/_jsx(\"img\",{style:{borderRadius:5},src:partner.img,alt:partner.title})})},partner.id);})})})]});};export default Partners;","map":{"version":3,"sources":["/home/clickc/www/click-company-main/src/pages/Partners/Partners.tsx"],"names":["axios","React","useEffect","useState","Link","useHistory","useParams","useRecoilValue","endpointState","Partners","params","history","urlEndpoint","partners","setPartners","urlEndpointCampaigns","get","state","localStorage","getItem","category_id","id","distinct","then","response","data","length","forEach","campaignResponse","push","img","banner","title","url","target_url","user_id","name","goBack","display","flexDirection","flexWrap","map","partner","padding","width","boxSizing","borderRadius"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport { useRecoilValue } from 'recoil';\nimport { endpointState } from '../../recoil/atoms';\n\ntype PartnersParams = {\n\tid: string;\n\tname: string;\n};\n\ntype typeResponseAxios = {\n\t[key: string]: any;\n};\n\nconst Partners: React.FC = () => {\n\tconst params = useParams<PartnersParams>();\n\tconst history = useHistory();\n\tconst { urlEndpoint } = useRecoilValue(endpointState);\n\tconst [partners, setPartners] = useState<any[]>([]);\n\n\tconst urlEndpointCampaigns = `${urlEndpoint}/api/partner/campaign`;\n\n\tuseEffect(() => {\n\t\taxios\n\t\t\t.get(urlEndpointCampaigns, {\n\t\t\t\tparams: {\n\t\t\t\t\tstate: localStorage.getItem('estadoName'),\n\t\t\t\t\tcategory_id: params.id,\n\t\t\t\t\tdistinct: 'true'\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then(function (response: typeResponseAxios) {\n\t\t\t\tif (response.data.data.length > 0) {\n\t\t\t\t\tconst data: any[] = [];\n\t\t\t\t\tresponse.data.data.forEach((campaignResponse: any) => {\n\t\t\t\t\t\tdata.push({\n\t\t\t\t\t\t\timg:\n\t\t\t\t\t\t\t\tcampaignResponse.banner !== ''\n\t\t\t\t\t\t\t\t\t? `https://zapgrupos-bucket.s3.us-west-2.amazonaws.com/${campaignResponse.banner}`\n\t\t\t\t\t\t\t\t\t: '',\n\t\t\t\t\t\t\ttitle: campaignResponse.title,\n\t\t\t\t\t\t\turl: campaignResponse.target_url,\n\t\t\t\t\t\t\tid: campaignResponse.id,\n\t\t\t\t\t\t\tuser_id: campaignResponse.user_id,\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tsetPartners(data);\n\t\t\t\t}\n\t\t\t});\n\t}, []);\n\n\treturn (\n\t\t<div className=\"bg-white\">\n\t\t\t<div className=\"cabecalho-register text-center bg-white\">\n\t\t\t\t<p>\n\t\t\t\t\t{params?.name}\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\thistory.goBack();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-times\" />\n\t\t\t\t\t</button>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className=\"body-perfil\">\n\t\t\t\t<div\n\t\t\t\t\tstyle={{ display: 'flex', flexDirection: 'row', flexWrap: 'wrap' }}\n\t\t\t\t>\n\t\t\t\t\t{partners.map((partner: any) => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={partner.id}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tpadding: 5,\n\t\t\t\t\t\t\t\twidth: '50%',\n\t\t\t\t\t\t\t\tboxSizing: 'border-box',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Link to={`/perfil-partner/${partner.user_id}`}>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tstyle={{ borderRadius: 5 }}\n\t\t\t\t\t\t\t\t\tsrc={partner.img}\n\t\t\t\t\t\t\t\t\talt={partner.title}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Partners;\n"]},"metadata":{},"sourceType":"module"}