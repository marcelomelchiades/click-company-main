{"ast":null,"code":"import _slicedToArray from\"/home/clickc/www/click-company-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useEffect,useState}from'react';import{Link,useHistory,useParams}from'react-router-dom';import{useRecoilValue}from'recoil';import{endpointState}from'../../recoil/atoms';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Partners=function Partners(){var params=useParams();var history=useHistory();var _useRecoilValue=useRecoilValue(endpointState),urlEndpoint=_useRecoilValue.urlEndpoint;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),partners=_useState2[0],setPartners=_useState2[1];var urlEndpointCampaigns=\"\".concat(urlEndpoint,\"/api/partner/campaign\");useEffect(function(){axios.get(urlEndpointCampaigns,{params:{state:localStorage.getItem('estadoName'),category_id:params.id,distinct:'true'}}).then(function(response){if(response.data.data.length>0){var data=[];response.data.data.forEach(function(campaignResponse){data.push({img:campaignResponse.banner!==''?\"https://zapgrupos-bucket.s3.us-west-2.amazonaws.com/\".concat(campaignResponse.banner):'',title:campaignResponse.title,url:campaignResponse.target_url,id:campaignResponse.id,user_id:campaignResponse.user_id});});setPartners(data);}});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cabecalho-register text-center bg-white\",children:/*#__PURE__*/_jsxs(\"p\",{children:[params===null||params===void 0?void 0:params.name,/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){history.goBack();},className:\"float-right\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"body-perfil\",children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'row',flexWrap:'wrap'},children:partners.map(function(partner){return/*#__PURE__*/_jsx(\"div\",{style:{padding:5,width:'50%',boxSizing:'border-box'},children:/*#__PURE__*/_jsx(Link,{to:\"/perfil-partner/\".concat(partner.user_id),children:/*#__PURE__*/_jsx(\"img\",{style:{borderRadius:5},src:partner.img,alt:partner.title})})},partner.id);})})})]});};export default Partners;","map":{"version":3,"names":["axios","React","useEffect","useState","Link","useHistory","useParams","useRecoilValue","endpointState","jsx","_jsx","jsxs","_jsxs","Partners","params","history","_useRecoilValue","urlEndpoint","_useState","_useState2","_slicedToArray","partners","setPartners","urlEndpointCampaigns","concat","get","state","localStorage","getItem","category_id","id","distinct","then","response","data","length","forEach","campaignResponse","push","img","banner","title","url","target_url","user_id","className","children","name","type","onClick","goBack","style","display","flexDirection","flexWrap","map","partner","padding","width","boxSizing","to","borderRadius","src","alt"],"sources":["/home/clickc/www/click-company-main/src/pages/Partners/Partners.tsx"],"sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport { useRecoilValue } from 'recoil';\nimport { endpointState } from '../../recoil/atoms';\n\ntype PartnersParams = {\n\tid: string;\n\tname: string;\n};\n\ntype typeResponseAxios = {\n\t[key: string]: any;\n};\n\nconst Partners: React.FC = () => {\n\tconst params = useParams<PartnersParams>();\n\tconst history = useHistory();\n\tconst { urlEndpoint } = useRecoilValue(endpointState);\n\tconst [partners, setPartners] = useState<any[]>([]);\n\n\tconst urlEndpointCampaigns = `${urlEndpoint}/api/partner/campaign`;\n\n\tuseEffect(() => {\n\t\taxios\n\t\t\t.get(urlEndpointCampaigns, {\n\t\t\t\tparams: {\n\t\t\t\t\tstate: localStorage.getItem('estadoName'),\n\t\t\t\t\tcategory_id: params.id,\n\t\t\t\t\tdistinct: 'true'\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then(function (response: typeResponseAxios) {\n\t\t\t\tif (response.data.data.length > 0) {\n\t\t\t\t\tconst data: any[] = [];\n\t\t\t\t\tresponse.data.data.forEach((campaignResponse: any) => {\n\t\t\t\t\t\tdata.push({\n\t\t\t\t\t\t\timg:\n\t\t\t\t\t\t\t\tcampaignResponse.banner !== ''\n\t\t\t\t\t\t\t\t\t? `https://zapgrupos-bucket.s3.us-west-2.amazonaws.com/${campaignResponse.banner}`\n\t\t\t\t\t\t\t\t\t: '',\n\t\t\t\t\t\t\ttitle: campaignResponse.title,\n\t\t\t\t\t\t\turl: campaignResponse.target_url,\n\t\t\t\t\t\t\tid: campaignResponse.id,\n\t\t\t\t\t\t\tuser_id: campaignResponse.user_id,\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tsetPartners(data);\n\t\t\t\t}\n\t\t\t});\n\t}, []);\n\n\treturn (\n\t\t<div className=\"bg-white\">\n\t\t\t<div className=\"cabecalho-register text-center bg-white\">\n\t\t\t\t<p>\n\t\t\t\t\t{params?.name}\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\thistory.goBack();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-times\" />\n\t\t\t\t\t</button>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className=\"body-perfil\">\n\t\t\t\t<div\n\t\t\t\t\tstyle={{ display: 'flex', flexDirection: 'row', flexWrap: 'wrap' }}\n\t\t\t\t>\n\t\t\t\t\t{partners.map((partner: any) => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={partner.id}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tpadding: 5,\n\t\t\t\t\t\t\t\twidth: '50%',\n\t\t\t\t\t\t\t\tboxSizing: 'border-box',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Link to={`/perfil-partner/${partner.user_id}`}>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tstyle={{ borderRadius: 5 }}\n\t\t\t\t\t\t\t\t\tsrc={partner.img}\n\t\t\t\t\t\t\t\t\talt={partner.title}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Partners;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}