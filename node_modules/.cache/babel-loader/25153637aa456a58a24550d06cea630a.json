{"ast":null,"code":"import _slicedToArray from\"/home/clickc/www/click-company-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import axios from'axios';import{Link}from'react-router-dom';import'swiper/swiper-bundle.css';import{useRecoilValue}from'recoil';import{endpointState}from'../../recoil/atoms';import Input from'../../components/Input/Input';import Logo from'../../components/Logo/Logo';import Loading from'../../components/Loading/Loading';import CampaignsCarousel from'../../components/CampaignsCarousel/CampaignsCarousel';var SearchSwing=function SearchSwing(){var _useRecoilValue=useRecoilValue(endpointState),urlEndpoint=_useRecoilValue.urlEndpoint,urlEndpointEstados=_useRecoilValue.urlEndpointEstados;var urlEndpointAcompanhantes=\"\".concat(urlEndpoint,\"/api/account/list/3\");var _useState=useState(true),_useState2=_slicedToArray(_useState,2),showLoading=_useState2[0],setShowLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),estadoSelect=_useState4[0],setEstadoSelect=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),cidadeSelect=_useState6[0],setCidadeSelect=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),cardsAcompanhantes=_useState8[0],setCardsAcompanhantes=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),city=_useState10[0],setCity=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),neighborhood=_useState12[0],setNeighborhood=_useState12[1];var newCardsAcompanhantes=[];useEffect(function(){var _localStorage$getItem;searchCompanions();setSelectsAxiosIbge('estados');setSelectsAxiosIbge('cidades',(_localStorage$getItem=localStorage.getItem('estado'))===null||_localStorage$getItem===void 0?void 0:_localStorage$getItem.toString());if(localStorage.getItem('estado')===null){localStorage.setItem('estado','33');}},[]);var searchCompanions=function searchCompanions(){setCardsAcompanhantes([]);setShowLoading(true);axios.get(urlEndpointAcompanhantes,{params:{state:localStorage.getItem('estadoName'),city:city,neighborhood:neighborhood}}).then(function(response){if(response.data.data.length>0){response.data.data.forEach(function(profile,index){if(profile.profile!==null){var _profile$profile$midi,_profile$profile,_profile$profile$midi2,_profile$profile2,_profile$profile2$mid,_profile$profile3,_profile$profile3$mid,_profile$address,_profile$address2;var qtdVideos=0;var qtdImages=0;if(((_profile$profile$midi=profile.profile.midias)===null||_profile$profile$midi===void 0?void 0:_profile$profile$midi.length)>0){var midiasProfile=profile.profile.midias;midiasProfile.forEach(function(midia){if(midia.type==='image'){qtdImages+=1;}else if(midia.type==='video'){qtdVideos+=1;}});}newCardsAcompanhantes.push({id:profile.id,fotoDestaque:typeof((_profile$profile=profile.profile)===null||_profile$profile===void 0?void 0:(_profile$profile$midi2=_profile$profile.midias[0])===null||_profile$profile$midi2===void 0?void 0:_profile$profile$midi2.link['512'])!==typeof undefined?(_profile$profile2=profile.profile)===null||_profile$profile2===void 0?void 0:(_profile$profile2$mid=_profile$profile2.midias[0])===null||_profile$profile2$mid===void 0?void 0:_profile$profile2$mid.link['512']:(_profile$profile3=profile.profile)===null||_profile$profile3===void 0?void 0:(_profile$profile3$mid=_profile$profile3.midias[0])===null||_profile$profile3$mid===void 0?void 0:_profile$profile3$mid.link['50'],premium:'Premium',basico:'Basico',nome:profile.profile.nickname,idade:profile.profile.age,cidade:(_profile$address=profile.address)===null||_profile$address===void 0?void 0:_profile$address.city,estado:(_profile$address2=profile.address)===null||_profile$address2===void 0?void 0:_profile$address2.state,sexo:profile.profile.gender,qtdFotos:qtdImages.toString(),qtdVideos:qtdVideos.toString(),price:\"R$ \".concat(profile.profile.price.toFixed(2).replace('.',','))});}});setCardsAcompanhantes(newCardsAcompanhantes);setShowLoading(false);}else{setShowLoading(false);}});};var setSelectsAxiosIbge=function setSelectsAxiosIbge(){var tipoEstadoCidade=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'estados';var idEstado=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'33';var url={estados:urlEndpointEstados,cidades:\"\".concat(urlEndpointEstados).concat(idEstado,\"/municipios\")};var setSelect={estados:setEstadoSelect,cidades:setCidadeSelect};var orderByName={estados:'sigla',cidades:'nome'};axios.get(url[tipoEstadoCidade],{// headers: {\n// \tAuthorization: `Bearer ${token}`,\n// },\n}).then(function(response){if(response.data.length>0){var newValue=[];var cidadesEstados=response.data.sort(function(a,b){return a[orderByName[tipoEstadoCidade]]>b[orderByName[tipoEstadoCidade]]?1:-1;});response.data.forEach(function(element){if(tipoEstadoCidade==='estados'){if(element.id===33){newValue.push({label:element[orderByName[tipoEstadoCidade]],value:element.id});}}else{newValue.push({label:element[orderByName[tipoEstadoCidade]],value:element.id});}});setSelect[tipoEstadoCidade]([]);setSelect[tipoEstadoCidade](newValue);setCity('');}else{setSelect[tipoEstadoCidade]([]);}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"background-color-413872\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"padding-sides-20px relative text-center py-4\",children:[/*#__PURE__*/_jsx(Link,{to:'/perfil',children:/*#__PURE__*/_jsxs(\"div\",{className:\"icone-user-with-menu\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"icone-user\",children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-user\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"icone-menu\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-bars\"})})]})}),/*#__PURE__*/_jsx(Logo,{logoType:'white horizontal',classes:'inline w-200px'}),/*#__PURE__*/_jsx(\"div\",{className:\"search-menu\",children:/*#__PURE__*/_jsx(\"div\",{className:\"icone-search\",children:/*#__PURE__*/_jsx(\"select\",{name:\"estado\",id:\"estado\",onChange:function onChange(event){localStorage.setItem('estado',event.target.value);localStorage.setItem('estadoName',event.target.options[event.target.selectedIndex].text);setSelectsAxiosIbge('cidades',event.target.value);searchCompanions();},children:estadoSelect.map(function(state){var _localStorage$getItem2;return/*#__PURE__*/_jsx(\"option\",{value:state.value,selected:((_localStorage$getItem2=localStorage.getItem('estado'))===null||_localStorage$getItem2===void 0?void 0:_localStorage$getItem2.toString())===state.value.toString(),children:state.label});})})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"padding-sides-20px bg-white pt-2 pb-6\",children:[/*#__PURE__*/_jsx(CampaignsCarousel,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 mt-2\",children:[/*#__PURE__*/_jsx(Input,{name:\"cidade\",type:\"select\",placeholder:\"Cidade\",valueSelect:cidadeSelect,value:city,onChange:function onChange(e){setCity(e.target.options[e.target.selectedIndex].text==='Cidade'?'':e.target.options[e.target.selectedIndex].text);}}),/*#__PURE__*/_jsx(Input,{name:'district_companion',type:'text',placeholder:'Bairro',onChange:function onChange(event){return setNeighborhood(event.target.value);},onKeyPress:function onKeyPress(event){if(event.key==='Enter'){searchCompanions();}}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return searchCompanions();},className:\"mt-4 mb-4 block w-full p-2 rounded-full text-center pesquisar-acompanhante text-white font-bold\",children:\"Pesquisar\"}),/*#__PURE__*/_jsx(\"div\",{className:\"py-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"font-bold\",children:\"Swing\"})}),/*#__PURE__*/_jsx(Loading,{showLoading:showLoading,className:\"loading-center\"}),showLoading===true?'':/*#__PURE__*/_jsxs(\"div\",{children:[cardsAcompanhantes.length===0?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Swings n\\xE3o encontrados\"})}):null,/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-4 py-2\",children:cardsAcompanhantes.map(function(acompanhante){return/*#__PURE__*/_jsx(Link,{to:\"/perfil-user/\".concat(acompanhante.id),children:/*#__PURE__*/_jsxs(\"div\",{className:'card-acompanhante pequisa-companina-card',children:[/*#__PURE__*/_jsx(\"div\",{className:\"foto-destaque-acompanhante\",children:/*#__PURE__*/_jsx(\"img\",{src:acompanhante.fotoDestaque,alt:\"Foto Acompanhante\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2 card-infos-acompanhante\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-info-1-acompanhante\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-nome-idade-acompanhante\",children:\"\".concat(acompanhante.nome,\", \").concat(acompanhante.idade)}),/*#__PURE__*/_jsx(\"p\",{children:\"\".concat(acompanhante.cidade,\" - \").concat(acompanhante.estado)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-info-2-acompanhante text-right\",children:[/*#__PURE__*/_jsx(\"p\",{children:acompanhante.sexo}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-camera\"}),\" \".concat(acompanhante.qtdFotos,\" \"),/*#__PURE__*/_jsx(\"i\",{className:\"far fa-play-circle\"}),\" \".concat(acompanhante.qtdVideos)]})]})]})]})});})})]})]})]});};export default SearchSwing;","map":{"version":3,"sources":["/home/clickc/www/click-company-main/src/pages/Register/SearchSwing.tsx"],"names":["React","useEffect","useState","axios","Link","useRecoilValue","endpointState","Input","Logo","Loading","CampaignsCarousel","SearchSwing","urlEndpoint","urlEndpointEstados","urlEndpointAcompanhantes","showLoading","setShowLoading","estadoSelect","setEstadoSelect","cidadeSelect","setCidadeSelect","cardsAcompanhantes","setCardsAcompanhantes","city","setCity","neighborhood","setNeighborhood","newCardsAcompanhantes","searchCompanions","setSelectsAxiosIbge","localStorage","getItem","toString","setItem","get","params","state","then","response","data","length","forEach","profile","index","qtdVideos","qtdImages","midias","midiasProfile","midia","type","push","id","fotoDestaque","link","undefined","premium","basico","nome","nickname","idade","age","cidade","address","estado","sexo","gender","qtdFotos","price","toFixed","replace","tipoEstadoCidade","idEstado","url","estados","cidades","setSelect","orderByName","newValue","cidadesEstados","sort","a","b","element","label","value","event","target","options","selectedIndex","text","map","e","key","acompanhante"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport 'swiper/swiper-bundle.css';\nimport { useRecoilValue } from 'recoil';\nimport { endpointState } from '../../recoil/atoms';\nimport Input from '../../components/Input/Input';\n\nimport Logo from '../../components/Logo/Logo';\nimport Loading from '../../components/Loading/Loading';\nimport CampaignsCarousel from '../../components/CampaignsCarousel/CampaignsCarousel';\n\nconst SearchSwing: React.FC = () => {\n\ttype typeResponseAxios = {\n\t\t[key: string]: any;\n\t};\n\n\ttype selectValues = {\n\t\tlabel: string;\n\t\tvalue: string;\n\t}[];\n\n\ttype typeCardsAcompanhantes = {\n\t\tid: string;\n\t\tfotoDestaque: string;\n\t\tpremium: string;\n\t\tbasico: string;\n\t\tnome: string;\n\t\tidade: string;\n\t\tcidade: string;\n\t\testado: string;\n\t\tsexo: string;\n\t\tqtdFotos: string;\n\t\tqtdVideos: string;\n\t\tprice: string;\n\t}[];\n\n\tconst { urlEndpoint, urlEndpointEstados } = useRecoilValue(endpointState);\n\n\tconst urlEndpointAcompanhantes = `${urlEndpoint}/api/account/list/3`;\n\n\tconst [showLoading, setShowLoading] = useState(true);\n\n\tconst [estadoSelect, setEstadoSelect] = useState<selectValues>([]);\n\tconst [cidadeSelect, setCidadeSelect] = useState<selectValues>([]);\n\n\tconst [cardsAcompanhantes, setCardsAcompanhantes] =\n\t\tuseState<typeCardsAcompanhantes>([]);\n\n\tconst [city, setCity] = useState('');\n\tconst [neighborhood, setNeighborhood] = useState('');\n\n\tconst newCardsAcompanhantes: typeCardsAcompanhantes = [];\n\n\tuseEffect(() => {\n\t\tsearchCompanions();\n\t\tsetSelectsAxiosIbge('estados');\n\t\tsetSelectsAxiosIbge('cidades', localStorage.getItem('estado')?.toString());\n\t\tif (localStorage.getItem('estado') === null) {\n\t\t\tlocalStorage.setItem('estado', '33');\n\t\t}\n\t}, []);\n\n\tconst searchCompanions = () => {\n\t\tsetCardsAcompanhantes([]);\n\t\tsetShowLoading(true);\n\n\t\taxios\n\t\t\t.get(urlEndpointAcompanhantes, {\n\t\t\t\tparams: {\n\t\t\t\t\tstate: localStorage.getItem('estadoName'),\n\t\t\t\t\tcity,\n\t\t\t\t\tneighborhood,\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then(function (response: typeResponseAxios) {\n\t\t\t\tif (response.data.data.length > 0) {\n\t\t\t\t\tresponse.data.data.forEach((profile: any, index: number) => {\n\t\t\t\t\t\tif (profile.profile !== null) {\n\t\t\t\t\t\t\tlet qtdVideos = 0;\n\t\t\t\t\t\t\tlet qtdImages = 0;\n\n\t\t\t\t\t\t\tif (profile.profile.midias?.length > 0) {\n\t\t\t\t\t\t\t\tconst midiasProfile = profile.profile.midias;\n\n\t\t\t\t\t\t\t\tmidiasProfile.forEach((midia: any) => {\n\t\t\t\t\t\t\t\t\tif (midia.type === 'image') {\n\t\t\t\t\t\t\t\t\t\tqtdImages += 1;\n\t\t\t\t\t\t\t\t\t} else if (midia.type === 'video') {\n\t\t\t\t\t\t\t\t\t\tqtdVideos += 1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tnewCardsAcompanhantes.push({\n\t\t\t\t\t\t\t\tid: profile.id,\n\t\t\t\t\t\t\t\tfotoDestaque:\n\t\t\t\t\t\t\t\t\ttypeof profile.profile?.midias[0]?.link['512'] !==\n\t\t\t\t\t\t\t\t\ttypeof undefined\n\t\t\t\t\t\t\t\t\t\t? profile.profile?.midias[0]?.link['512']\n\t\t\t\t\t\t\t\t\t\t: profile.profile?.midias[0]?.link['50'],\n\t\t\t\t\t\t\t\tpremium: 'Premium',\n\t\t\t\t\t\t\t\tbasico: 'Basico',\n\t\t\t\t\t\t\t\tnome: profile.profile.nickname,\n\t\t\t\t\t\t\t\tidade: profile.profile.age,\n\t\t\t\t\t\t\t\tcidade: profile.address?.city,\n\t\t\t\t\t\t\t\testado: profile.address?.state,\n\t\t\t\t\t\t\t\tsexo: profile.profile.gender,\n\t\t\t\t\t\t\t\tqtdFotos: qtdImages.toString(),\n\t\t\t\t\t\t\t\tqtdVideos: qtdVideos.toString(),\n\t\t\t\t\t\t\t\tprice: `R$ ${profile.profile.price\n\t\t\t\t\t\t\t\t\t.toFixed(2)\n\t\t\t\t\t\t\t\t\t.replace('.', ',')}`,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tsetCardsAcompanhantes(newCardsAcompanhantes);\n\t\t\t\t\tsetShowLoading(false);\n\t\t\t\t} else {\n\t\t\t\t\tsetShowLoading(false);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tconst setSelectsAxiosIbge = (\n\t\ttipoEstadoCidade: 'estados' | 'cidades' = 'estados',\n\t\tidEstado = '33',\n\t) => {\n\t\tconst url = {\n\t\t\testados: urlEndpointEstados,\n\t\t\tcidades: `${urlEndpointEstados}${idEstado}/municipios`,\n\t\t};\n\n\t\tconst setSelect = {\n\t\t\testados: setEstadoSelect,\n\t\t\tcidades: setCidadeSelect,\n\t\t};\n\n\t\tconst orderByName = {\n\t\t\testados: 'sigla',\n\t\t\tcidades: 'nome',\n\t\t};\n\n\t\taxios\n\t\t\t.get(url[tipoEstadoCidade], {\n\t\t\t\t// headers: {\n\t\t\t\t// \tAuthorization: `Bearer ${token}`,\n\t\t\t\t// },\n\t\t\t})\n\t\t\t.then(function (response: typeResponseAxios) {\n\t\t\t\tif (response.data.length > 0) {\n\t\t\t\t\tconst newValue: selectValues = [];\n\n\t\t\t\t\tconst cidadesEstados = response.data.sort((a: any, b: any) =>\n\t\t\t\t\t\ta[orderByName[tipoEstadoCidade]] > b[orderByName[tipoEstadoCidade]]\n\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t: -1,\n\t\t\t\t\t);\n\n\t\t\t\t\tresponse.data.forEach((element: any) => {\n\t\t\t\t\t\tif(tipoEstadoCidade === 'estados'){\n\t\t\t\t\t\t\tif(element.id===33){\n\t\t\t\t\t\t\t\tnewValue.push({\n\t\t\t\t\t\t\t\t\tlabel: element[orderByName[tipoEstadoCidade]],\n\t\t\t\t\t\t\t\t\tvalue: element.id,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tnewValue.push({\n\t\t\t\t\t\t\t\tlabel: element[orderByName[tipoEstadoCidade]],\n\t\t\t\t\t\t\t\tvalue: element.id,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tsetSelect[tipoEstadoCidade]([]);\n\t\t\t\t\tsetSelect[tipoEstadoCidade](newValue);\n\t\t\t\t\tsetCity('');\n\t\t\t\t} else {\n\t\t\t\t\tsetSelect[tipoEstadoCidade]([]);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"background-color-413872\">\n\t\t\t<div className=\"padding-sides-20px relative text-center py-4\">\n\t\t\t\t<Link to={'/perfil'}>\n\t\t\t\t\t<div className=\"icone-user-with-menu\">\n\t\t\t\t\t\t<div className=\"icone-user\">\n\t\t\t\t\t\t\t<i className=\"far fa-user\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"icone-menu\">\n\t\t\t\t\t\t\t<i className=\"fas fa-bars\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\n\t\t\t\t<Logo logoType={'white horizontal'} classes={'inline w-200px'} />\n\n\t\t\t\t<div className=\"search-menu\">\n\t\t\t\t\t<div className=\"icone-search\">\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tname=\"estado\"\n\t\t\t\t\t\t\tid=\"estado\"\n\t\t\t\t\t\t\tonChange={(event: any) => {\n\t\t\t\t\t\t\t\tlocalStorage.setItem('estado', event.target.value);\n\t\t\t\t\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\t\t\t\t\t'estadoName',\n\t\t\t\t\t\t\t\t\tevent.target.options[event.target.selectedIndex].text,\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tsetSelectsAxiosIbge('cidades', event.target.value);\n\t\t\t\t\t\t\t\tsearchCompanions();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{estadoSelect.map(state => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\tvalue={state.value}\n\t\t\t\t\t\t\t\t\t\tselected={\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem('estado')?.toString() ===\n\t\t\t\t\t\t\t\t\t\t\tstate.value.toString()\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{state.label}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"padding-sides-20px bg-white pt-2 pb-6\">\n\t\t\t\t<CampaignsCarousel />\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 mt-2\">\n\t\t\t\t\t<Input\n\t\t\t\t\t\tname=\"cidade\"\n\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\tplaceholder=\"Cidade\"\n\t\t\t\t\t\tvalueSelect={cidadeSelect}\n\t\t\t\t\t\tvalue={city}\n\t\t\t\t\t\tonChange={(e: any) => {\n\t\t\t\t\t\t\tsetCity(\n\t\t\t\t\t\t\t\te.target.options[e.target.selectedIndex].text === 'Cidade'\n\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t: e.target.options[e.target.selectedIndex].text,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tname={'district_companion'}\n\t\t\t\t\t\ttype={'text'}\n\t\t\t\t\t\tplaceholder={'Bairro'}\n\t\t\t\t\t\tonChange={(event: any) => setNeighborhood(event.target.value)}\n\t\t\t\t\t\tonKeyPress={(event: any) => {\n\t\t\t\t\t\t\tif (event.key === 'Enter') {\n\t\t\t\t\t\t\t\tsearchCompanions();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={() => searchCompanions()}\n\t\t\t\t\tclassName=\"mt-4 mb-4 block w-full p-2 rounded-full text-center pesquisar-acompanhante text-white font-bold\"\n\t\t\t\t>\n\t\t\t\t\tPesquisar\n\t\t\t\t</button>\n\t\t\t\t<div className=\"py-2\">\n\t\t\t\t\t<p className=\"font-bold\">Swing</p>\n\t\t\t\t</div>\n\t\t\t\t<Loading showLoading={showLoading} className=\"loading-center\" />\n\t\t\t\t{showLoading === true ? (\n\t\t\t\t\t''\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{cardsAcompanhantes.length === 0 ? (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<h1>Swings não encontrados</h1>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-2\">\n\t\t\t\t\t\t\t{cardsAcompanhantes.map(acompanhante => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Link to={`/perfil-user/${acompanhante.id}`}>\n\t\t\t\t\t\t\t\t\t\t<div className={'card-acompanhante pequisa-companina-card'}>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"foto-destaque-acompanhante\">\n\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={acompanhante.fotoDestaque}\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"Foto Acompanhante\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-2 card-infos-acompanhante\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-info-1-acompanhante\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"card-nome-idade-acompanhante\">{`${acompanhante.nome}, ${acompanhante.idade}`}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{`${acompanhante.cidade} - ${acompanhante.estado}`}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>{acompanhante.price}</p> */}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-info-2-acompanhante text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{acompanhante.sexo}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-camera\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{` ${acompanhante.qtdFotos} `}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"far fa-play-circle\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{` ${acompanhante.qtdVideos}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default SearchSwing;\n"]},"metadata":{},"sourceType":"module"}