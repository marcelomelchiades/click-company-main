{"ast":null,"code":"import _slicedToArray from\"/home/clickc/www/click-company-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import{Link,useHistory}from'react-router-dom';import axios from'axios';import{useRecoilState,useRecoilValue}from'recoil';import{endpointState,fluxoCreatePerfil}from'../../recoil/atoms';import iconUserRosa from\"../../assets/images/icon-user-rosa.svg\";import iconMinhasAssinaturas from\"../../assets/images/icon-minhas-assinaturas.svg\";import iconSair from\"../../assets/images/icon-sair.svg\";import MenuItem from'../../components/MenuItem/MenuItem';var Perfil=function Perfil(){var history=useHistory();var _useRecoilValue=useRecoilValue(endpointState),urlEndpoint=_useRecoilValue.urlEndpoint;var urlAccount=\"\".concat(urlEndpoint,\"/api/account\");var urlOrderUser=\"\".concat(urlEndpoint,\"/api/checkout/order/user\");var userType=localStorage.getItem('user_type');var token=localStorage.getItem('token');var userAccount=localStorage.getItem('user_type');var profileCreate=localStorage.getItem('perfilCreate');var _useState=useState(localStorage.getItem('kyc')),_useState2=_slicedToArray(_useState,2),kyc=_useState2[0],setKyc=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),nickname=_useState4[0],setNickname=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),avatar=_useState6[0],setAvatar=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),idUser=_useState8[0],setIdUser=_useState8[1];var updatePage='';useEffect(function(){axios.get(urlAccount,{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(responseAccount){var _responseAccount$data;if(kyc!==responseAccount.data.kyc){localStorage.setItem('kyc',responseAccount.data.kyc);setKyc(responseAccount.data.kyc);}setNickname((_responseAccount$data=responseAccount.data.profile)===null||_responseAccount$data===void 0?void 0:_responseAccount$data.nickname);setIdUser(responseAccount.data.id);if(userType!=='5'){var _responseAccount$data2,_responseAccount$data3;setAvatar((_responseAccount$data2=responseAccount.data.profile)===null||_responseAccount$data2===void 0?void 0:(_responseAccount$data3=_responseAccount$data2.midias[0])===null||_responseAccount$data3===void 0?void 0:_responseAccount$data3.link['50']);}}).catch(function(error){console.log(error);handleLogOut();history.push('/home');});},[]);if(userAccount==='2'&&profileCreate==='0'&&(kyc==='pending'||kyc==='okay')){updatePage='/create-perfil';}else if(userAccount==='2'&&kyc===null){updatePage='/documents';}else if(userAccount==='2'&&profileCreate==='1'){updatePage='/update-perfil';}else if(userAccount==='2'&&profileCreate==='0'){updatePage='/documents';}if(userAccount==='3'&&profileCreate==='0'&&(kyc==='pending'||kyc==='okay')){updatePage='/create-perfil-swing';}else if(userAccount==='3'&&kyc===null){updatePage='/documents';}else if(userAccount==='3'&&profileCreate==='1'){updatePage='/update-perfil-swing';}else if(userAccount==='3'&&profileCreate==='0'){updatePage='/documents';}if(userAccount==='4'&&profileCreate==='0'&&(kyc==='pending'||kyc==='okay')){updatePage='/create-perfil-close-friends';}else if(userAccount==='4'&&kyc===null){updatePage='/documents';}else if(userAccount==='4'&&profileCreate==='1'){updatePage='/update-perfil-close-friends';}else if(userAccount==='4'&&profileCreate==='0'){updatePage='/documents';}if(userAccount==='5'&&profileCreate==='0'&&(kyc==='pending'||kyc==='okay')){updatePage='/create-perfil-partner';}else if(userAccount==='5'&&kyc===null){updatePage='/documents';}else if(userAccount==='5'&&profileCreate==='1'){updatePage='/update-perfil-partner';}else if(userAccount==='5'&&profileCreate==='0'){updatePage='/documents';}var urlHome='/home-companions';if(userType==='2'){urlHome='/home-companions';}else if(userType==='3'){urlHome='/home-swing';}else if(userType==='4'){urlHome='/home-close-friends';}else if(userType==='5'){urlHome='/login';}var itemsMenu=[{label:'Home',icon:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-home\"}),to:urlHome},{label:'Meu Perfil',icon:iconUserRosa,to:updatePage},{label:'Minhas assinaturas',icon:iconMinhasAssinaturas,to:'/signatures'},// {\n// \tlabel: 'Cupom',\n// \ticon: iconTicket,\n// \tto: '/discount-coupon',\n// },\n// {\n// \tlabel: 'Ajuda',\n// \ticon: <i className=\"far fa-comment-alt\" />,\n// \tto: '/help',\n// },\n{label:'Termos e Politicas',icon:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-sticky-note\"}),to:'/perfil'},{label:'Sair',icon:iconSair,to:'/login'}];if(userType==='5'){itemsMenu.splice(2,0,{label:'Minhas Publicidades',icon:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-sticky-note\"}),to:'/update-publication'});}var _useRecoilState=useRecoilState(fluxoCreatePerfil),_useRecoilState2=_slicedToArray(_useRecoilState,2),fluxoCreatePerfilState=_useRecoilState2[0],setFluxoCreatePerfilState=_useRecoilState2[1];useEffect(function(){setFluxoCreatePerfilState({finalSendTo:'/perfil-companion'});},[]);function handleLogOut(){localStorage.removeItem('token');localStorage.removeItem('user_type');localStorage.removeItem('perfilCreate');localStorage.removeItem('kyc');}return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cabecalho-register text-center bg-white\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Conta\",/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){history.goBack();},className:\"float-right\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"body-perfil\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bloco-thumb-nome-perfil\",children:[avatar!==''?/*#__PURE__*/_jsx(\"div\",{className:\"inline-block mr-4\",children:/*#__PURE__*/_jsx(\"img\",{src:avatar,className:\"img-avatar-perfil\",alt:\"\"})}):null,/*#__PURE__*/_jsx(Link,{to:\"/perfil-user/\".concat(idUser),children:/*#__PURE__*/_jsxs(\"div\",{className:\"inline-block\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"nome-perfil\",children:nickname}),/*#__PURE__*/_jsx(\"p\",{className:\"text-dados-perfil\",children:\"Meus dados\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"float-right\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chevron-right\"})})]}),/*#__PURE__*/_jsx(Link,{to:'/packets',className:\"btn-contratar-plano mb-6\",children:\"Contratar plano\"}),/*#__PURE__*/_jsx(\"div\",{className:\"px-20px\",children:itemsMenu.map(function(item){return/*#__PURE__*/_jsx(MenuItem,{onClick:function onClick(){return handleLogOut();},label:item.label,icon:item.icon,to:item.to});})})]})]});};export default Perfil;","map":{"version":3,"sources":["/home/clickc/www/click-company-main/src/pages/Perfil/Perfil.tsx"],"names":["React","useEffect","useState","Link","useHistory","axios","useRecoilState","useRecoilValue","endpointState","fluxoCreatePerfil","MenuItem","Perfil","history","urlEndpoint","urlAccount","urlOrderUser","userType","localStorage","getItem","token","userAccount","profileCreate","kyc","setKyc","nickname","setNickname","avatar","setAvatar","idUser","setIdUser","updatePage","get","headers","Authorization","then","responseAccount","data","setItem","profile","id","midias","link","catch","error","console","log","handleLogOut","push","urlHome","itemsMenu","label","icon","to","iconUserRosa","iconMinhasAssinaturas","iconSair","splice","fluxoCreatePerfilState","setFluxoCreatePerfilState","finalSendTo","removeItem","goBack","map","item"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport axios from 'axios';\nimport { useRecoilState, useRecoilValue } from 'recoil';\nimport {\n\tendpointState,\n\tfluxoCreatePerfil,\n\ttypeCreatePerfil,\n} from '../../recoil/atoms';\n\nimport defaultAvatar from '../../assets/images/default-avatar.png';\nimport iconUserRosa from '../../assets/images/icon-user-rosa.svg';\nimport iconMinhasAssinaturas from '../../assets/images/icon-minhas-assinaturas.svg';\nimport iconSair from '../../assets/images/icon-sair.svg';\nimport iconTicket from '../../assets/images/icon-ticket.svg';\n\nimport MenuItem from '../../components/MenuItem/MenuItem';\n\nconst Perfil: React.FC = () => {\n\tinterface UserData {\n\t\tkyc: any;\n\t}\n\n\tconst history = useHistory();\n\n\tconst { urlEndpoint } = useRecoilValue(endpointState);\n\tconst urlAccount = `${urlEndpoint}/api/account`;\n\tconst urlOrderUser = `${urlEndpoint}/api/checkout/order/user`;\n\n\tconst userType = localStorage.getItem('user_type');\n\n\tconst token = localStorage.getItem('token');\n\tconst userAccount: any = localStorage.getItem('user_type');\n\tconst profileCreate: any = localStorage.getItem('perfilCreate');\n\tconst [kyc, setKyc] = useState<UserData | any>(localStorage.getItem('kyc'));\n\tconst [nickname, setNickname] = useState('');\n\tconst [avatar, setAvatar] = useState('');\n\tconst [idUser, setIdUser] = useState('');\n\tlet updatePage = '';\n\n\tuseEffect(() => {\n\t\taxios\n\t\t\t.get(urlAccount, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then(responseAccount => {\n\t\t\t\tif (kyc !== responseAccount.data.kyc) {\n\t\t\t\t\tlocalStorage.setItem('kyc', responseAccount.data.kyc);\n\t\t\t\t\tsetKyc(responseAccount.data.kyc);\n\t\t\t\t}\n\t\t\t\tsetNickname(responseAccount.data.profile?.nickname);\n\t\t\t\tsetIdUser(responseAccount.data.id);\n\t\t\t\tif (userType !== '5') {\n\t\t\t\t\tsetAvatar(responseAccount.data.profile?.midias[0]?.link['50']);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log(error);\n\t\t\t\thandleLogOut();\n\t\t\t\thistory.push('/home');\n\t\t\t});\n\t}, []);\n\n\tif (\n\t\tuserAccount === '2' &&\n\t\tprofileCreate === '0' &&\n\t\t(kyc === 'pending' || kyc === 'okay')\n\t) {\n\t\tupdatePage = '/create-perfil';\n\t} else if (userAccount === '2' && kyc === null) {\n\t\tupdatePage = '/documents';\n\t} else if (userAccount === '2' && profileCreate === '1') {\n\t\tupdatePage = '/update-perfil';\n\t} else if (userAccount === '2' && profileCreate === '0') {\n\t\tupdatePage = '/documents';\n\t}\n\n\tif (\n\t\tuserAccount === '3' &&\n\t\tprofileCreate === '0' &&\n\t\t(kyc === 'pending' || kyc === 'okay')\n\t) {\n\t\tupdatePage = '/create-perfil-swing';\n\t} else if (userAccount === '3' && kyc === null) {\n\t\tupdatePage = '/documents';\n\t} else if (userAccount === '3' && profileCreate === '1') {\n\t\tupdatePage = '/update-perfil-swing';\n\t} else if (userAccount === '3' && profileCreate === '0') {\n\t\tupdatePage = '/documents';\n\t}\n\n\tif (\n\t\tuserAccount === '4' &&\n\t\tprofileCreate === '0' &&\n\t\t(kyc === 'pending' || kyc === 'okay')\n\t) {\n\t\tupdatePage = '/create-perfil-close-friends';\n\t} else if (userAccount === '4' && kyc === null) {\n\t\tupdatePage = '/documents';\n\t} else if (userAccount === '4' && profileCreate === '1') {\n\t\tupdatePage = '/update-perfil-close-friends';\n\t} else if (userAccount === '4' && profileCreate === '0') {\n\t\tupdatePage = '/documents';\n\t}\n\n\tif (\n\t\tuserAccount === '5' &&\n\t\tprofileCreate === '0' &&\n\t\t(kyc === 'pending' || kyc === 'okay')\n\t) {\n\t\tupdatePage = '/create-perfil-partner';\n\t} else if (userAccount === '5' && kyc === null) {\n\t\tupdatePage = '/documents';\n\t} else if (userAccount === '5' && profileCreate === '1') {\n\t\tupdatePage = '/update-perfil-partner';\n\t} else if (userAccount === '5' && profileCreate === '0') {\n\t\tupdatePage = '/documents';\n\t}\n\n\tlet urlHome = '/home-companions';\n\tif (userType === '2') {\n\t\turlHome = '/home-companions';\n\t} else if (userType === '3') {\n\t\turlHome = '/home-swing';\n\t} else if (userType === '4') {\n\t\turlHome = '/home-close-friends';\n\t} else if (userType === '5') {\n\t\turlHome = '/login';\n\t}\n\n\tconst itemsMenu = [\n\t\t{\n\t\t\tlabel: 'Home',\n\t\t\ticon: <i className=\"fas fa-home\" />,\n\t\t\tto: urlHome,\n\t\t},\n\t\t{\n\t\t\tlabel: 'Meu Perfil',\n\t\t\ticon: iconUserRosa,\n\t\t\tto: updatePage,\n\t\t},\n\t\t{\n\t\t\tlabel: 'Minhas assinaturas',\n\t\t\ticon: iconMinhasAssinaturas,\n\t\t\tto: '/signatures',\n\t\t},\n\t\t// {\n\t\t// \tlabel: 'Cupom',\n\t\t// \ticon: iconTicket,\n\t\t// \tto: '/discount-coupon',\n\t\t// },\n\t\t// {\n\t\t// \tlabel: 'Ajuda',\n\t\t// \ticon: <i className=\"far fa-comment-alt\" />,\n\t\t// \tto: '/help',\n\t\t// },\n\t\t{\n\t\t\tlabel: 'Termos e Politicas',\n\t\t\ticon: <i className=\"far fa-sticky-note\" />,\n\t\t\tto: '/perfil',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Sair',\n\t\t\ticon: iconSair,\n\t\t\tto: '/login',\n\t\t},\n\t];\n\n\tif (userType === '5') {\n\t\titemsMenu.splice(2, 0, {\n\t\t\tlabel: 'Minhas Publicidades',\n\t\t\ticon: <i className=\"far fa-sticky-note\" />,\n\t\t\tto: '/update-publication',\n\t\t});\n\t}\n\n\tconst [fluxoCreatePerfilState, setFluxoCreatePerfilState] =\n\t\tuseRecoilState(fluxoCreatePerfil);\n\n\tuseEffect(() => {\n\t\tsetFluxoCreatePerfilState({\n\t\t\tfinalSendTo: '/perfil-companion',\n\t\t});\n\t}, []);\n\n\tfunction handleLogOut() {\n\t\tlocalStorage.removeItem('token');\n\t\tlocalStorage.removeItem('user_type');\n\t\tlocalStorage.removeItem('perfilCreate');\n\t\tlocalStorage.removeItem('kyc');\n\t}\n\n\treturn (\n\t\t<div className=\"bg-white\">\n\t\t\t<div className=\"cabecalho-register text-center bg-white\">\n\t\t\t\t<p>\n\t\t\t\t\tConta\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\thistory.goBack();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-times\" />\n\t\t\t\t\t</button>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className=\"body-perfil\">\n\t\t\t\t<div className=\"bloco-thumb-nome-perfil\">\n\t\t\t\t\t{avatar !== '' ? (\n\t\t\t\t\t\t<div className=\"inline-block mr-4\">\n\t\t\t\t\t\t\t<img src={avatar} className=\"img-avatar-perfil\" alt=\"\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : null}\n\n\t\t\t\t\t<Link to={`/perfil-user/${idUser}`}>\n\t\t\t\t\t\t<div className=\"inline-block\">\n\t\t\t\t\t\t\t<p className=\"nome-perfil\">{nickname}</p>\n\t\t\t\t\t\t\t<p className=\"text-dados-perfil\">Meus dados</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<div className=\"float-right\">\n\t\t\t\t\t\t<i className=\"fas fa-chevron-right\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Link to={'/packets'} className=\"btn-contratar-plano mb-6\">\n\t\t\t\t\tContratar plano\n\t\t\t\t</Link>\n\t\t\t\t<div className=\"px-20px\">\n\t\t\t\t\t{itemsMenu.map(item => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tonClick={() => handleLogOut()}\n\t\t\t\t\t\t\t\tlabel={item.label}\n\t\t\t\t\t\t\t\ticon={item.icon}\n\t\t\t\t\t\t\t\tto={item.to}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Perfil;\n"]},"metadata":{},"sourceType":"module"}